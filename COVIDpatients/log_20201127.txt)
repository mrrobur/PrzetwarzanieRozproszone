2020-11-27 20:58:10.885 +01:00 [DBG] Hosting starting
2020-11-27 20:58:11.653 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 20:58:11.748 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 20:58:11.833 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 20:58:11.878 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 20:58:11.972 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 20:58:11.994 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 20:58:11.998 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 20:58:12.011 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 20:58:12.047 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 20:58:12.063 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 20:58:12.141 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 20:58:13.868 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 20:58:13.997 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 20:58:14.087 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 20:58:14.093 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 20:58:14.096 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 20:58:14.098 +01:00 [INF] Hosting environment: Development
2020-11-27 20:58:14.101 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 20:58:14.103 +01:00 [DBG] Hosting started
2020-11-27 20:58:14.178 +01:00 [DBG] Connection id "0HM4J1R37L7QL" accepted.
2020-11-27 20:58:14.182 +01:00 [DBG] Connection id "0HM4J1R37L7QL" started.
2020-11-27 20:58:14.546 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 20:58:14.559 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 20:58:14.565 +01:00 [VRB] All hosts are allowed.
2020-11-27 20:58:14.656 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 20:58:14.676 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 20:58:14.709 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 20:58:16.282 +01:00 [INF] Successfully validated the token.
2020-11-27 20:58:16.286 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 20:58:16.305 +01:00 [INF] Authorization was successful.
2020-11-27 20:58:16.308 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 20:58:16.333 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 20:58:16.452 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 20:58:16.462 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 20:58:16.467 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 20:58:16.473 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 20:58:16.482 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 20:58:16.490 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 20:58:16.501 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 20:58:16.813 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 20:58:16.978 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 20:58:16.984 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:16.994 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:17.001 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:17.005 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:17.039 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 20:58:18.883 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 20:58:19.513 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 20:58:19.663 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 20:58:19.797 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (120ms).
2020-11-27 20:58:19.816 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 20:58:21.006 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 20:58:21.077 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 20:58:21.282 +01:00 [INF] Executed DbCommand (238ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 20:58:21.430 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.544 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.548 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.552 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.561 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.564 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.570 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.575 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.580 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.583 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.585 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.597 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.601 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.614 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.620 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 20:58:21.645 +01:00 [DBG] A data reader was disposed.
2020-11-27 20:58:21.662 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 20:58:21.701 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 20:58:21.766 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4694.4516ms.
2020-11-27 20:58:21.783 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:21.794 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:21.799 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:21.806 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:21.811 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 20:58:21.816 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 20:58:21.837 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 20:58:21.846 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 20:58:21.862 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 20:58:21.864 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 20:58:21.869 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 20:58:21.873 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 20:58:21.875 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 20:58:21.948 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 20:58:21.958 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 20:58:21.965 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 20:58:21.984 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 5472.6559ms
2020-11-27 20:58:21.992 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 20:58:22.001 +01:00 [INF] HTTP GET /api/patients responded 200 in 7417.4668 ms
2020-11-27 20:58:22.007 +01:00 [DBG] Connection id "0HM4J1R37L7QL" completed keep alive response.
2020-11-27 20:58:22.014 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 20:58:22.032 +01:00 [INF] Request finished in 7491.6175ms 200 application/json; charset=utf-8
2020-11-27 20:58:24.674 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44305/api/patients application/json; charset=utf-8 3
2020-11-27 20:58:24.677 +01:00 [VRB] All hosts are allowed.
2020-11-27 20:58:24.679 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 20:58:24.682 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 20:58:24.691 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 20:58:24.699 +01:00 [INF] Successfully validated the token.
2020-11-27 20:58:24.700 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 20:58:24.707 +01:00 [INF] Authorization was successful.
2020-11-27 20:58:24.709 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 20:58:24.718 +01:00 [INF] Route matched with {action = "InvalidAction", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InvalidAction() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 20:58:24.729 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 20:58:24.732 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 20:58:24.739 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 20:58:24.748 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 20:58:24.756 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 20:58:24.760 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 20:58:24.763 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 20:58:24.767 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:24.776 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:24.780 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:24.788 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:24.798 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) - Validation state: "Valid"
2020-11-27 20:58:25.005 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:25.010 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 20:58:25.014 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:25.025 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 20:58:25.036 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) in 276.0361ms
2020-11-27 20:58:25.043 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 20:58:25.056 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Test exception
   at COVIDpatients.Controllers.PatientsController.InvalidAction() in C:\Users\admin\source\repos\COVIDpatients\COVIDpatients\Controllers\PatientsController.cs:line 59
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-27 20:58:25.246 +01:00 [ERR] HTTP PUT /api/patients responded 500 in 566.9873 ms
2020-11-27 20:58:25.275 +01:00 [DBG] Connection id "0HM4J1R37L7QL" completed keep alive response.
2020-11-27 20:58:25.281 +01:00 [INF] Request finished in 608.0084ms 500 text/plain
2020-11-27 20:58:25.305 +01:00 [DBG] Connection id "0HM4J1R37L7QL", Request id "0HM4J1R37L7QL:00000002": started reading request body.
2020-11-27 20:58:25.329 +01:00 [DBG] Connection id "0HM4J1R37L7QL", Request id "0HM4J1R37L7QL:00000002": done reading request body.
2020-11-27 20:58:29.783 +01:00 [DBG] Connection id "0HM4J1R37L7QL" reset.
2020-11-27 20:58:29.801 +01:00 [DBG] Connection id "0HM4J1R37L7QL" disconnecting.
2020-11-27 20:58:29.804 +01:00 [DBG] Connection id "0HM4J1R37L7QL" sending FIN because: "The client closed the connection."
2020-11-27 20:58:29.824 +01:00 [DBG] Connection id "0HM4J1R37L7QL" stopped.
2020-11-27 20:58:31.765 +01:00 [INF] Application is shutting down...
2020-11-27 20:58:31.773 +01:00 [DBG] Hosting stopping
2020-11-27 20:58:31.809 +01:00 [DBG] Hosting stopped
2020-11-27 21:54:48.811 +01:00 [DBG] Hosting starting
2020-11-27 21:54:51.034 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 21:54:51.640 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 21:54:52.060 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 21:54:52.225 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 21:54:52.722 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 21:54:52.791 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 21:54:52.812 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 21:54:52.862 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 21:54:52.931 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 21:54:52.966 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 21:54:53.010 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 21:54:58.492 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 21:54:58.773 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 21:54:58.832 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 21:54:58.868 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 21:54:58.900 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 21:54:58.932 +01:00 [INF] Hosting environment: Development
2020-11-27 21:54:58.941 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 21:54:58.950 +01:00 [DBG] Hosting started
2020-11-27 21:55:32.788 +01:00 [DBG] Connection id "0HM4J2R40QCM0" accepted.
2020-11-27 21:55:32.797 +01:00 [DBG] Connection id "0HM4J2R40QCM0" started.
2020-11-27 21:55:33.002 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44305/api/patients application/json; charset=utf-8 3
2020-11-27 21:55:33.035 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 21:55:33.042 +01:00 [VRB] All hosts are allowed.
2020-11-27 21:55:33.128 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 21:55:33.142 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 21:55:33.153 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 21:55:34.276 +01:00 [INF] Successfully validated the token.
2020-11-27 21:55:34.284 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 21:55:34.306 +01:00 [INF] Authorization was successful.
2020-11-27 21:55:34.311 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 21:55:34.333 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 21:55:34.410 +01:00 [INF] Route matched with {action = "InvalidAction", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InvalidAction() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 21:55:34.420 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 21:55:34.426 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 21:55:34.432 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 21:55:34.441 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 21:55:34.447 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 21:55:34.455 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 21:55:34.699 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 21:55:34.812 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 21:55:34.823 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:55:34.831 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:55:34.837 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:55:34.843 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:55:34.867 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) - Validation state: "Valid"
2020-11-27 21:55:35.240 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:55:35.313 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:55:35.328 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:55:35.336 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:55:35.365 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) in 893.8856ms
2020-11-27 21:55:35.375 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 21:55:35.385 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Test exception
   at COVIDpatients.Controllers.PatientsController.InvalidAction() in C:\Users\admin\source\repos\COVIDpatients\COVIDpatients\Controllers\PatientsController.cs:line 59
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-27 21:55:35.601 +01:00 [ERR] HTTP PUT /api/patients responded 500 in 2547.0664 ms
2020-11-27 21:55:35.608 +01:00 [DBG] Connection id "0HM4J2R40QCM0" completed keep alive response.
2020-11-27 21:55:35.617 +01:00 [INF] Request finished in 2632.9749ms 500 text/plain
2020-11-27 21:55:35.677 +01:00 [DBG] Connection id "0HM4J2R40QCM0", Request id "0HM4J2R40QCM0:00000001": started reading request body.
2020-11-27 21:55:35.684 +01:00 [DBG] Connection id "0HM4J2R40QCM0", Request id "0HM4J2R40QCM0:00000001": done reading request body.
2020-11-27 21:56:19.214 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 21:56:19.225 +01:00 [VRB] All hosts are allowed.
2020-11-27 21:56:19.229 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 21:56:19.235 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 21:56:19.252 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 21:56:19.285 +01:00 [INF] Successfully validated the token.
2020-11-27 21:56:19.301 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 21:56:19.312 +01:00 [INF] Authorization was successful.
2020-11-27 21:56:19.318 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 21:56:19.327 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 21:56:19.335 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 21:56:19.342 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 21:56:19.348 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 21:56:19.358 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 21:56:19.364 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 21:56:19.374 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 21:56:19.384 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 21:56:19.391 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:56:19.397 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:56:19.406 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:56:19.416 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:56:19.423 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 21:56:20.356 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 21:56:20.780 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 21:56:20.836 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 21:56:20.923 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2020-11-27 21:56:20.941 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 21:56:22.026 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 21:56:22.063 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 21:56:22.204 +01:00 [INF] Executed DbCommand (154ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 21:56:22.319 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.378 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.386 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.396 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.404 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.411 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.418 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.427 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.450 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.471 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.483 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.506 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.532 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.567 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.577 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 21:56:22.608 +01:00 [DBG] A data reader was disposed.
2020-11-27 21:56:22.630 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 21:56:22.662 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 21:56:22.689 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3244.1803ms.
2020-11-27 21:56:22.696 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:56:22.707 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 21:56:22.718 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:56:22.728 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 21:56:22.739 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 21:56:22.747 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 21:56:22.761 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 21:56:22.772 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 21:56:22.789 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 21:56:22.796 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 21:56:22.803 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 21:56:22.812 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 21:56:22.823 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 21:56:22.885 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 21:56:22.899 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 21:56:22.925 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 21:56:22.934 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3559.3839ms
2020-11-27 21:56:22.945 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 21:56:22.952 +01:00 [INF] HTTP GET /api/patients responded 200 in 3722.6191 ms
2020-11-27 21:56:22.964 +01:00 [DBG] Connection id "0HM4J2R40QCM0" completed keep alive response.
2020-11-27 21:56:22.975 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 21:56:22.989 +01:00 [INF] Request finished in 3775.4561ms 200 application/json; charset=utf-8
2020-11-27 21:58:32.744 +01:00 [DBG] Connection id "0HM4J2R40QCM0" received FIN.
2020-11-27 21:58:32.754 +01:00 [DBG] Connection id "0HM4J2R40QCM0" sending FIN because: "The client closed the connection."
2020-11-27 21:58:32.762 +01:00 [DBG] Connection id "0HM4J2R40QCM0" disconnecting.
2020-11-27 21:58:32.775 +01:00 [DBG] Connection id "0HM4J2R40QCM0" stopped.
2020-11-27 22:00:31.490 +01:00 [DBG] Hosting starting
2020-11-27 22:00:31.999 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:00:32.103 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:00:32.167 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:00:32.216 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:00:32.265 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:00:32.303 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:00:32.322 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:00:32.360 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:00:32.373 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:00:32.387 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:00:32.395 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:00:34.957 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:00:35.176 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:00:35.218 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:00:35.242 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:00:35.262 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:00:35.311 +01:00 [INF] Hosting environment: Development
2020-11-27 22:01:24.005 +01:00 [DBG] Hosting starting
2020-11-27 22:01:24.422 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:01:24.482 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:01:24.521 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:01:24.548 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:01:24.576 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:01:24.592 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:01:24.599 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:01:24.624 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:01:24.640 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:01:24.680 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:01:24.695 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:01:26.690 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:01:26.844 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:01:26.869 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:01:26.953 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:01:26.962 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:02:30.866 +01:00 [DBG] Hosting starting
2020-11-27 22:02:31.326 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:02:31.410 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:02:31.475 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:02:31.516 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:02:31.544 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:02:31.556 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:02:31.564 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:02:31.578 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:02:31.592 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:02:31.608 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:02:31.616 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:02:33.597 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:02:33.759 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:02:33.786 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:02:33.809 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:02:33.816 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:02:33.822 +01:00 [INF] Hosting environment: Development
2020-11-27 22:02:33.828 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:02:33.838 +01:00 [DBG] Hosting started
2020-11-27 22:03:05.202 +01:00 [DBG] Hosting starting
2020-11-27 22:03:05.612 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:03:05.667 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:03:05.712 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:03:05.743 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:03:05.777 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:03:05.794 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:03:05.800 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:03:05.820 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:03:05.843 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:03:05.859 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:03:05.866 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:04:28.169 +01:00 [DBG] Hosting starting
2020-11-27 22:04:28.918 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:04:28.983 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:04:29.044 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:04:29.070 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:04:29.095 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:04:29.105 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:04:29.115 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:04:29.132 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:04:29.147 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:04:29.168 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:04:29.179 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:04:31.222 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:04:31.371 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:04:31.394 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:04:31.431 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:04:31.440 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:04:31.446 +01:00 [INF] Hosting environment: Development
2020-11-27 22:04:31.452 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:04:31.464 +01:00 [DBG] Hosting started
2020-11-27 22:04:35.957 +01:00 [DBG] Connection id "0HM4J305SRR6J" accepted.
2020-11-27 22:04:35.965 +01:00 [DBG] Connection id "0HM4J305SRR6J" started.
2020-11-27 22:04:36.171 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:04:36.186 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:04:36.193 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:04:36.270 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:04:36.287 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:04:36.306 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:04:37.563 +01:00 [INF] Successfully validated the token.
2020-11-27 22:04:37.573 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:04:37.600 +01:00 [INF] Authorization was successful.
2020-11-27 22:04:37.608 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:04:37.643 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:04:37.709 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:04:37.723 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:04:37.731 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:04:37.740 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:04:37.750 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:04:37.759 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:04:37.769 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:04:38.035 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:04:38.147 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:04:38.156 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:38.167 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:38.177 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:38.187 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:38.214 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:04:39.259 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:04:39.688 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:04:39.762 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:04:39.867 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (96ms).
2020-11-27 22:04:39.884 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:04:40.784 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:04:40.811 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:04:40.963 +01:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:04:41.073 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.140 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.148 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.166 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.173 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.181 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.191 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.199 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.208 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.221 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.228 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.234 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.241 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.250 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.262 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:04:41.300 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:04:41.315 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:04:41.333 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:04:41.347 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3114.9694ms.
2020-11-27 22:04:41.355 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:41.362 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:41.371 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:41.377 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:41.387 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:04:41.397 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:04:41.408 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:04:41.416 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:04:41.428 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:04:41.434 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:04:41.439 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:04:41.446 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:04:41.457 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:04:41.526 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:04:41.534 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:04:41.540 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:04:41.562 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3779.8697ms
2020-11-27 22:04:41.570 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:04:41.584 +01:00 [INF] HTTP GET /api/patients responded 200 in 5380.2394 ms
2020-11-27 22:04:41.592 +01:00 [DBG] Connection id "0HM4J305SRR6J" completed keep alive response.
2020-11-27 22:04:41.602 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:04:41.614 +01:00 [INF] Request finished in 5450.9426ms 200 application/json; charset=utf-8
2020-11-27 22:04:51.880 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44305/api/patients application/json; charset=utf-8 3
2020-11-27 22:04:51.887 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:04:51.893 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:04:51.901 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:04:51.910 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:04:51.922 +01:00 [INF] Successfully validated the token.
2020-11-27 22:04:51.929 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:04:51.936 +01:00 [INF] Authorization was successful.
2020-11-27 22:04:51.941 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:04:51.952 +01:00 [INF] Route matched with {action = "InvalidAction", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InvalidAction() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:04:51.962 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:04:51.968 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:04:51.974 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:04:51.984 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:04:51.994 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:04:52.002 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:04:52.011 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:04:52.019 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:52.031 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:52.040 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:52.050 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:52.059 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:04:52.210 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:52.218 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:04:52.225 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:52.232 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:04:52.241 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) in 238.7911ms
2020-11-27 22:04:52.249 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:04:52.265 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Test exception
   at COVIDpatients.Controllers.PatientsController.InvalidAction() in C:\Users\admin\source\repos\COVIDpatients\COVIDpatients\Controllers\PatientsController.cs:line 64
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-27 22:04:52.426 +01:00 [ERR] HTTP PUT /api/patients responded 500 in 534.2238 ms
2020-11-27 22:04:52.433 +01:00 [DBG] Connection id "0HM4J305SRR6J" completed keep alive response.
2020-11-27 22:04:52.438 +01:00 [INF] Request finished in 561.255ms 500 text/plain
2020-11-27 22:04:52.460 +01:00 [DBG] Connection id "0HM4J305SRR6J", Request id "0HM4J305SRR6J:00000002": started reading request body.
2020-11-27 22:04:52.467 +01:00 [DBG] Connection id "0HM4J305SRR6J", Request id "0HM4J305SRR6J:00000002": done reading request body.
2020-11-27 22:04:55.966 +01:00 [DBG] Connection id "0HM4J305SRR6J" reset.
2020-11-27 22:04:56.013 +01:00 [DBG] Connection id "0HM4J305SRR6J" sending FIN because: "The client closed the connection."
2020-11-27 22:04:56.027 +01:00 [DBG] Connection id "0HM4J305SRR6J" disconnecting.
2020-11-27 22:04:56.042 +01:00 [DBG] Connection id "0HM4J305SRR6J" stopped.
2020-11-27 22:05:21.744 +01:00 [DBG] Hosting starting
2020-11-27 22:05:22.205 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:05:22.300 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:05:22.351 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:05:22.396 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:05:22.428 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:05:22.437 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:05:22.449 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:05:22.492 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:05:22.510 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:05:22.525 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:05:22.531 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:05:24.542 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:05:24.703 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:05:24.783 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:05:24.792 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:05:24.800 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:05:24.805 +01:00 [INF] Hosting environment: Development
2020-11-27 22:05:24.810 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:05:24.816 +01:00 [DBG] Hosting started
2020-11-27 22:05:26.777 +01:00 [DBG] Connection id "0HM4J30L1I42T" accepted.
2020-11-27 22:05:26.786 +01:00 [DBG] Connection id "0HM4J30L1I42T" started.
2020-11-27 22:05:26.953 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:05:26.966 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:05:26.971 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:05:27.035 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:05:27.046 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:05:27.059 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:05:28.182 +01:00 [INF] Successfully validated the token.
2020-11-27 22:05:28.192 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:05:28.219 +01:00 [INF] Authorization was successful.
2020-11-27 22:05:28.229 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:05:28.275 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:05:28.357 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:05:28.408 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:05:28.422 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:05:28.431 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:05:28.442 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:05:28.451 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:05:28.464 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:05:28.729 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:05:28.830 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:05:28.839 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:05:28.851 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:05:28.861 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:05:28.869 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:05:28.888 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:06:15.238 +01:00 [DBG] Hosting starting
2020-11-27 22:06:15.642 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:06:15.695 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:06:15.736 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:06:15.773 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:06:15.800 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:06:15.813 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:06:15.821 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:06:15.841 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:06:15.853 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:06:15.868 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:06:15.874 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:06:17.759 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:06:17.874 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:06:17.898 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:06:17.931 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:06:17.937 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:06:17.986 +01:00 [INF] Hosting environment: Development
2020-11-27 22:06:17.994 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:06:17.999 +01:00 [DBG] Hosting started
2020-11-27 22:06:24.596 +01:00 [DBG] Connection id "0HM4J3168ULH1" accepted.
2020-11-27 22:06:24.604 +01:00 [DBG] Connection id "0HM4J3168ULH1" started.
2020-11-27 22:06:24.781 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:06:24.797 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:06:24.801 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:06:24.860 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:06:24.871 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:06:24.878 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:06:25.950 +01:00 [INF] Successfully validated the token.
2020-11-27 22:06:25.959 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:06:25.979 +01:00 [INF] Authorization was successful.
2020-11-27 22:06:25.984 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:06:26.005 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:06:26.082 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(Serilog.ILogger) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:06:26.091 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:06:26.098 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:06:26.104 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:06:26.111 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:06:26.119 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:06:26.127 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:06:26.348 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:06:26.436 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:06:26.462 +01:00 [DBG] Attempting to bind parameter 'logger' of type 'Serilog.ILogger' ...
2020-11-27 22:06:26.471 +01:00 [DBG] Attempting to bind parameter 'logger' of type 'Serilog.ILogger' using the name '' in request data ...
2020-11-27 22:06:26.488 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'null'.
2020-11-27 22:06:26.559 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerInputFormatter' for content type 'null'.
2020-11-27 22:06:26.565 +01:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2020-11-27 22:06:26.573 +01:00 [DBG] Done attempting to bind parameter 'logger' of type 'Serilog.ILogger'.
2020-11-27 22:06:26.578 +01:00 [DBG] Done attempting to bind parameter 'logger' of type 'Serilog.ILogger'.
2020-11-27 22:06:26.587 +01:00 [DBG] Attempting to validate the bound parameter 'logger' of type 'Serilog.ILogger' ...
2020-11-27 22:06:26.599 +01:00 [DBG] Done attempting to validate the bound parameter 'logger' of type 'Serilog.ILogger'.
2020-11-27 22:06:26.609 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:06:26.619 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:06:26.630 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2020-11-27 22:06:26.640 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:06:26.660 +01:00 [VRB] Replacing Microsoft.AspNetCore.Mvc.UnsupportedMediaTypeResult with status code 415 with Microsoft.AspNetCore.Mvc.ObjectResult.
2020-11-27 22:06:26.669 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:06:26.677 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-11-27 22:06:26.690 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:06:26.703 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:06:26.709 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2020-11-27 22:06:26.720 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2020-11-27 22:06:26.732 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2020-11-27 22:06:26.777 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-11-27 22:06:26.801 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:06:26.811 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:06:26.837 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 699.1954ms
2020-11-27 22:06:26.847 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:06:26.866 +01:00 [INF] HTTP GET /api/patients responded 415 in 2054.7550 ms
2020-11-27 22:06:26.876 +01:00 [DBG] Connection id "0HM4J3168ULH1" completed keep alive response.
2020-11-27 22:06:26.911 +01:00 [INF] Request finished in 2146.275ms 415 application/problem+json; charset=utf-8
2020-11-27 22:07:05.439 +01:00 [DBG] Hosting starting
2020-11-27 22:07:05.824 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:07:05.873 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:07:05.912 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:07:05.942 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:07:05.968 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:07:05.980 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:07:05.987 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:07:05.998 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:07:06.009 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:07:06.027 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:07:06.034 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:07:10.222 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:07:10.361 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:07:10.536 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:07:10.553 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:07:10.560 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:07:10.566 +01:00 [INF] Hosting environment: Development
2020-11-27 22:07:10.574 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:07:10.580 +01:00 [DBG] Hosting started
2020-11-27 22:07:11.484 +01:00 [DBG] Connection id "0HM4J31K83QPC" accepted.
2020-11-27 22:07:11.493 +01:00 [DBG] Connection id "0HM4J31K83QPC" started.
2020-11-27 22:07:11.658 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:07:11.677 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:07:11.681 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:07:11.759 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:07:11.769 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:07:11.776 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:07:12.741 +01:00 [INF] Successfully validated the token.
2020-11-27 22:07:12.750 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:07:12.772 +01:00 [INF] Authorization was successful.
2020-11-27 22:07:12.777 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:07:12.799 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:07:12.853 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:07:12.862 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:07:12.869 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:07:12.876 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:07:12.885 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:07:12.893 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:07:12.904 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:07:13.130 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:07:13.234 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:07:13.239 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:07:13.246 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:07:13.259 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:07:13.268 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:07:13.301 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:07:14.094 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:07:14.419 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:07:14.483 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:07:14.555 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2020-11-27 22:07:14.567 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:07:15.300 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:07:15.323 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:07:15.441 +01:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:07:15.525 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.571 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.579 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.587 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.596 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.602 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.610 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.620 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.629 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.635 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.643 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.651 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.660 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.666 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.674 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:07:15.694 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:07:15.706 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:07:15.728 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:07:15.760 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2428.9166ms.
2020-11-27 22:07:15.772 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:07:15.780 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:07:15.790 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:07:15.797 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:07:15.804 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:07:15.811 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:07:15.820 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:07:15.828 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:07:15.839 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:07:15.844 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:07:15.851 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:07:15.858 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:07:15.866 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:07:15.927 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:07:15.934 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:07:15.944 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:07:15.966 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3051.1076ms
2020-11-27 22:07:15.972 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:07:15.982 +01:00 [INF] HTTP GET /api/patients responded 200 in 4288.2688 ms
2020-11-27 22:07:15.990 +01:00 [DBG] Connection id "0HM4J31K83QPC" completed keep alive response.
2020-11-27 22:07:15.999 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:07:16.012 +01:00 [INF] Request finished in 4370.7016ms 200 application/json; charset=utf-8
2020-11-27 22:07:24.728 +01:00 [DBG] Connection id "0HM4J31K83QPC" reset.
2020-11-27 22:07:24.783 +01:00 [DBG] Connection id "0HM4J31K83QPC" sending FIN because: "The client closed the connection."
2020-11-27 22:07:24.796 +01:00 [DBG] Connection id "0HM4J31K83QPC" disconnecting.
2020-11-27 22:07:24.813 +01:00 [DBG] Connection id "0HM4J31K83QPC" stopped.
2020-11-27 22:09:13.872 +01:00 [DBG] Hosting starting
2020-11-27 22:09:14.430 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:09:14.489 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:09:14.542 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:09:14.586 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:09:14.612 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:09:14.627 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:09:14.634 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:09:14.654 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:09:14.667 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:09:14.685 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:09:14.698 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:09:22.668 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:09:22.989 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:09:23.172 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:09:23.252 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:09:23.263 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:09:23.343 +01:00 [INF] Hosting environment: Development
2020-11-27 22:09:23.353 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:09:23.368 +01:00 [DBG] Hosting started
2020-11-27 22:11:18.070 +01:00 [DBG] Hosting starting
2020-11-27 22:11:18.508 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:11:18.569 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:11:18.615 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:11:18.646 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:11:18.676 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:11:18.685 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:11:18.694 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:11:18.710 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:11:18.720 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:11:18.735 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:11:18.742 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:11:20.478 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:11:20.674 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:11:20.703 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:11:20.736 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:11:20.745 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:11:20.753 +01:00 [INF] Hosting environment: Development
2020-11-27 22:11:20.762 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:11:20.770 +01:00 [DBG] Hosting started
2020-11-27 22:11:22.275 +01:00 [DBG] Connection id "0HM4J33UVQH9S" accepted.
2020-11-27 22:11:22.284 +01:00 [DBG] Connection id "0HM4J33UVQH9S" started.
2020-11-27 22:11:22.464 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:11:22.476 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:11:22.481 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:11:22.586 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:11:22.602 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:11:22.613 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:11:23.794 +01:00 [INF] Successfully validated the token.
2020-11-27 22:11:23.802 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:11:23.821 +01:00 [INF] Authorization was successful.
2020-11-27 22:11:23.827 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:11:23.848 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:11:23.919 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:11:23.930 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:11:23.937 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:11:23.946 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:11:23.958 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:11:23.965 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:11:23.975 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:11:24.192 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:11:24.269 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:11:24.283 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:24.301 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:24.311 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:24.327 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:24.347 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:11:25.109 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:11:25.420 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:11:25.482 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:11:25.556 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2020-11-27 22:11:25.573 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:26.468 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:26.494 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:11:26.626 +01:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:11:26.729 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.779 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.787 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.796 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.802 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.811 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.819 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.830 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.837 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.848 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.860 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.873 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.887 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.898 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.908 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:26.934 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:11:26.946 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:26.964 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:26.978 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2614.7942ms.
2020-11-27 22:11:26.990 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:26.998 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:27.004 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:27.011 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:27.022 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:27.031 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:27.043 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:11:27.054 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:11:27.071 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:11:27.078 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:11:27.086 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:11:27.094 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:11:27.102 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:11:27.152 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:11:27.159 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:27.167 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:27.183 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3201.2467ms
2020-11-27 22:11:27.192 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:11:27.202 +01:00 [INF] HTTP GET /api/patients responded 200 in 4709.2889 ms
2020-11-27 22:11:27.209 +01:00 [DBG] Connection id "0HM4J33UVQH9S" completed keep alive response.
2020-11-27 22:11:27.219 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:11:27.232 +01:00 [INF] Request finished in 4776.4445ms 200 application/json; charset=utf-8
2020-11-27 22:11:40.559 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 116
2020-11-27 22:11:40.567 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:11:40.573 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:11:40.579 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:11:40.588 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:11:40.599 +01:00 [INF] Successfully validated the token.
2020-11-27 22:11:40.605 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:11:40.613 +01:00 [INF] Authorization was successful.
2020-11-27 22:11:40.620 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:11:40.651 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:11:40.660 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:11:40.668 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:11:40.674 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:11:40.683 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:11:40.691 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:11:40.699 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:11:40.718 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:11:40.738 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:11:40.749 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:11:40.764 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:11:40.779 +01:00 [DBG] Connection id "0HM4J33UVQH9S", Request id "0HM4J33UVQH9S:00000002": started reading request body.
2020-11-27 22:11:40.785 +01:00 [DBG] Connection id "0HM4J33UVQH9S", Request id "0HM4J33UVQH9S:00000002": done reading request body.
2020-11-27 22:11:40.800 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:11:40.805 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:11:40.811 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:11:40.819 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:11:40.837 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:11:40.847 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:40.857 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:40.866 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:40.873 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:40.879 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:11:40.887 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:11:40.968 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:11:41.038 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:41.068 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:41.078 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:11:41.090 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:11:41.121 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:11:41.142 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:41.151 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:41.164 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:11:41.247 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:11:41.347 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:11:41.354 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2020-11-27 22:11:41.381 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:11:41.554 +01:00 [INF] Executed DbCommand (183ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:11:41.592 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:11:41.612 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:11:41.626 +01:00 [DBG] Committing transaction.
2020-11-27 22:11:41.715 +01:00 [DBG] Committing transaction.
2020-11-27 22:11:41.724 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:41.730 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:11:41.739 +01:00 [DBG] Disposing transaction.
2020-11-27 22:11:41.774 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:11:41.786 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:11:43.079 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 2178.9065ms.
2020-11-27 22:11:43.089 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:43.098 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:11:43.109 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:43.119 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:11:43.131 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:43.138 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:43.148 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:11:43.159 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:11:43.172 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:11:43.180 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:11:43.191 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:11:43.197 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:11:43.204 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:11:43.213 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:11:43.223 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:43.231 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:11:43.241 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 2542.6639ms
2020-11-27 22:11:43.253 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:11:43.267 +01:00 [INF] HTTP POST /api/patients responded 201 in 2694.4673 ms
2020-11-27 22:11:43.276 +01:00 [DBG] Connection id "0HM4J33UVQH9S" completed keep alive response.
2020-11-27 22:11:43.295 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:11:43.305 +01:00 [INF] Request finished in 2744.8064ms 201 application/json; charset=utf-8
2020-11-27 22:13:13.665 +01:00 [DBG] Hosting starting
2020-11-27 22:13:14.305 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:13:14.405 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:13:14.456 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:13:14.494 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:13:14.527 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:13:14.542 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:13:14.551 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:13:14.580 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:13:14.600 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:13:14.614 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:13:14.622 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:13:16.474 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:13:16.626 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:13:16.653 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:13:16.658 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:13:16.663 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:13:16.669 +01:00 [INF] Hosting environment: Development
2020-11-27 22:13:16.675 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:13:16.680 +01:00 [DBG] Hosting started
2020-11-27 22:13:20.930 +01:00 [DBG] Connection id "0HM4J352BDKJD" accepted.
2020-11-27 22:13:20.938 +01:00 [DBG] Connection id "0HM4J352BDKJD" started.
2020-11-27 22:13:21.106 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:13:21.119 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:13:21.124 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:13:21.181 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:13:21.193 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:13:21.201 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:13:22.398 +01:00 [INF] Successfully validated the token.
2020-11-27 22:13:22.405 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:13:22.423 +01:00 [INF] Authorization was successful.
2020-11-27 22:13:22.428 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:13:22.453 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:13:22.514 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:13:22.525 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:13:22.532 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:13:22.537 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:13:22.546 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:13:22.554 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:13:22.561 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:13:22.773 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:13:22.854 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:13:22.861 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:22.869 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:22.877 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:22.884 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:22.900 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:13:23.694 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:13:23.975 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:13:24.054 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:13:24.131 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2020-11-27 22:13:24.146 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:24.959 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:24.981 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:13:25.099 +01:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:13:25.170 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.213 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.223 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.231 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.238 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.245 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.254 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.263 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.273 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.284 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.296 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.307 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.316 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.328 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.337 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.345 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:25.364 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:13:25.376 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:25.396 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:25.413 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2495.3275ms.
2020-11-27 22:13:25.422 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:25.431 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:25.437 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:25.445 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:25.456 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:25.464 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:25.473 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:13:25.492 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:13:25.507 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:13:25.520 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:13:25.531 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:13:25.538 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:13:25.546 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:13:25.598 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:13:25.605 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:25.613 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:25.630 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3060.6183ms
2020-11-27 22:13:25.636 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:13:25.646 +01:00 [INF] HTTP GET /api/patients responded 200 in 4511.5273 ms
2020-11-27 22:13:25.654 +01:00 [DBG] Connection id "0HM4J352BDKJD" completed keep alive response.
2020-11-27 22:13:25.663 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:13:25.673 +01:00 [INF] Request finished in 4575.5483ms 200 application/json; charset=utf-8
2020-11-27 22:13:35.773 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 103
2020-11-27 22:13:35.779 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:13:35.785 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:13:35.792 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:13:35.800 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:13:35.808 +01:00 [INF] Successfully validated the token.
2020-11-27 22:13:35.813 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:13:35.821 +01:00 [INF] Authorization was successful.
2020-11-27 22:13:35.826 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:13:35.856 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:13:35.864 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:13:35.870 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:13:35.877 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:13:35.889 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:13:35.898 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:13:35.912 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:13:35.921 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:13:35.942 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:13:35.951 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:13:35.959 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:13:35.971 +01:00 [DBG] Connection id "0HM4J352BDKJD", Request id "0HM4J352BDKJD:00000002": started reading request body.
2020-11-27 22:13:35.978 +01:00 [DBG] Connection id "0HM4J352BDKJD", Request id "0HM4J352BDKJD:00000002": done reading request body.
2020-11-27 22:13:35.997 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:13:36.002 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:13:36.007 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:13:36.012 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:13:36.025 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:13:36.032 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:36.038 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:36.045 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:36.051 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:36.058 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:13:36.065 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:13:36.152 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:13:36.211 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:36.237 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:36.247 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:13:36.263 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:13:36.300 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:13:36.340 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:36.359 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:36.387 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:13:36.462 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:13:36.595 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:13:36.600 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2020-11-27 22:13:36.642 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:13:36.764 +01:00 [INF] Executed DbCommand (136ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:13:36.810 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:13:36.828 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:13:36.836 +01:00 [DBG] Committing transaction.
2020-11-27 22:13:36.927 +01:00 [DBG] Committing transaction.
2020-11-27 22:13:36.933 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:36.939 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:13:36.948 +01:00 [DBG] Disposing transaction.
2020-11-27 22:13:36.977 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:13:36.986 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:13:38.445 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 2374.0781ms.
2020-11-27 22:13:38.457 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:38.464 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:13:38.474 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:38.483 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:13:38.494 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:38.500 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:38.507 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:13:38.513 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:13:38.524 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:13:38.529 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:13:38.534 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:13:38.538 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:13:38.544 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:13:38.553 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:13:38.559 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:38.566 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:13:38.574 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 2661.873ms
2020-11-27 22:13:38.580 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:13:38.587 +01:00 [INF] HTTP POST /api/patients responded 201 in 2802.1797 ms
2020-11-27 22:13:38.595 +01:00 [DBG] Connection id "0HM4J352BDKJD" completed keep alive response.
2020-11-27 22:13:38.601 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:13:38.606 +01:00 [INF] Request finished in 2832.9453ms 201 application/json; charset=utf-8
2020-11-27 22:15:50.890 +01:00 [DBG] Connection id "0HM4J352BDKJD" received FIN.
2020-11-27 22:15:50.902 +01:00 [DBG] Connection id "0HM4J352BDKJD" disconnecting.
2020-11-27 22:15:50.911 +01:00 [DBG] Connection id "0HM4J352BDKJD" sending FIN because: "The client closed the connection."
2020-11-27 22:15:50.928 +01:00 [DBG] Connection id "0HM4J352BDKJD" stopped.
2020-11-27 22:17:05.076 +01:00 [DBG] Hosting starting
2020-11-27 22:17:05.583 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:17:05.663 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:17:05.726 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:17:05.762 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:17:05.793 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:17:05.802 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:17:05.812 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:17:05.829 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:17:05.840 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:17:05.854 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:17:05.861 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:17:07.772 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:17:07.922 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:17:07.945 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:17:07.963 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:17:07.971 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:17:07.979 +01:00 [INF] Hosting environment: Development
2020-11-27 22:17:07.991 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:17:08.010 +01:00 [DBG] Hosting started
2020-11-27 22:17:16.473 +01:00 [DBG] Connection id "0HM4J378HNT7E" accepted.
2020-11-27 22:17:16.481 +01:00 [DBG] Connection id "0HM4J378HNT7E" started.
2020-11-27 22:17:16.659 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 103
2020-11-27 22:17:16.673 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:17:16.677 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:17:16.745 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:17:16.761 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:17:16.782 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:17:17.769 +01:00 [INF] Successfully validated the token.
2020-11-27 22:17:17.777 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:17:17.799 +01:00 [INF] Authorization was successful.
2020-11-27 22:17:17.804 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:17:17.826 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:17:17.916 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:17:17.925 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:17:17.932 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:17:17.937 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:17:17.946 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:17:17.953 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:17:17.963 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:17:18.183 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:17:18.273 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:17:18.318 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:17:18.366 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:17:18.376 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:17:18.401 +01:00 [DBG] Connection id "0HM4J378HNT7E", Request id "0HM4J378HNT7E:00000001": started reading request body.
2020-11-27 22:17:18.406 +01:00 [DBG] Connection id "0HM4J378HNT7E", Request id "0HM4J378HNT7E:00000001": done reading request body.
2020-11-27 22:17:18.420 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:17:18.426 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:17:18.432 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:17:18.437 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:17:18.452 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:17:18.464 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:17:18.471 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:17:18.478 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:17:18.486 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:17:18.502 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:17:18.512 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:17:19.342 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:17:19.431 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:17:19.527 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:17:19.536 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:17:19.547 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:17:19.570 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:17:19.665 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:17:20.556 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:17:20.565 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:17:20.641 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:17:20.743 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:17:20.777 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2020-11-27 22:17:20.878 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:17:21.088 +01:00 [INF] Executed DbCommand (228ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:17:21.161 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:17:21.194 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:17:21.205 +01:00 [DBG] Committing transaction.
2020-11-27 22:17:21.280 +01:00 [DBG] Committing transaction.
2020-11-27 22:17:21.290 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:17:21.367 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:17:21.375 +01:00 [DBG] Disposing transaction.
2020-11-27 22:17:21.402 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:17:21.411 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:17:22.726 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 4195.1394ms.
2020-11-27 22:17:22.735 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:17:22.744 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:17:22.754 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:17:22.769 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:17:22.784 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:17:22.798 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:17:22.810 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:17:22.823 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:17:22.837 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:17:22.842 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:17:22.848 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:17:22.857 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:17:22.865 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:17:22.895 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:17:22.908 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:17:22.915 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:17:22.933 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 4963.2529ms
2020-11-27 22:17:22.944 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:17:22.962 +01:00 [INF] HTTP POST /api/patients responded 201 in 6272.6074 ms
2020-11-27 22:17:22.977 +01:00 [DBG] Connection id "0HM4J378HNT7E" completed keep alive response.
2020-11-27 22:17:23.000 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:17:23.019 +01:00 [INF] Request finished in 6372.3371ms 201 application/json; charset=utf-8
2020-11-27 22:24:36.984 +01:00 [DBG] Hosting starting
2020-11-27 22:24:37.836 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:24:37.919 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:24:37.966 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:24:38.000 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:24:38.029 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:24:38.037 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:24:38.045 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:24:38.063 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:24:38.075 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:24:38.095 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:24:38.107 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:24:39.950 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:24:40.123 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:24:40.158 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:24:40.177 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:24:40.186 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:24:40.192 +01:00 [INF] Hosting environment: Development
2020-11-27 22:24:40.200 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:24:40.208 +01:00 [DBG] Hosting started
2020-11-27 22:24:40.458 +01:00 [DBG] Connection id "0HM4J3BCRQTE3" accepted.
2020-11-27 22:24:40.467 +01:00 [DBG] Connection id "0HM4J3BCRQTE3" started.
2020-11-27 22:24:40.787 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:24:40.839 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:24:40.848 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:24:40.990 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:24:41.008 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:24:41.030 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:24:52.293 +01:00 [INF] Successfully validated the token.
2020-11-27 22:24:52.301 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:24:52.351 +01:00 [INF] Authorization was successful.
2020-11-27 22:24:52.360 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:24:52.388 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:24:52.461 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:24:52.478 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:24:52.485 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:24:52.494 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:24:52.504 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:24:52.511 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:24:52.521 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:24:52.837 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:24:52.938 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:24:52.945 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:24:52.957 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:24:52.966 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:24:52.975 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:24:53.001 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:24:54.029 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:24:54.326 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:24:54.393 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:24:54.466 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (67ms).
2020-11-27 22:24:54.479 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:24:55.336 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:24:55.359 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:24:55.489 +01:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:24:55.564 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.607 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.615 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.624 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.633 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.647 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.657 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.665 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.673 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.678 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.686 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.694 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.700 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.706 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.714 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.727 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.732 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.738 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:24:55.754 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:24:55.763 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:24:55.806 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:24:55.880 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2824.8876ms.
2020-11-27 22:24:55.905 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:24:55.915 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:24:55.925 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:24:55.938 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:24:55.950 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:24:55.962 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:24:55.971 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:24:55.981 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:24:55.999 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:24:56.004 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:24:56.010 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:24:56.020 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:24:56.029 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:24:56.087 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:24:56.094 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:24:56.102 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:24:56.121 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3590.4753ms
2020-11-27 22:24:56.132 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:24:56.142 +01:00 [INF] HTTP GET /api/patients responded 200 in 15242.6340 ms
2020-11-27 22:24:56.151 +01:00 [DBG] Connection id "0HM4J3BCRQTE3" completed keep alive response.
2020-11-27 22:24:56.187 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:24:56.214 +01:00 [INF] Request finished in 15451.7375ms 200 application/json; charset=utf-8
2020-11-27 22:25:01.020 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44305/api/patients application/json; charset=utf-8 3
2020-11-27 22:25:01.028 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:25:01.033 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:25:01.040 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:25:01.049 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:25:01.063 +01:00 [INF] Successfully validated the token.
2020-11-27 22:25:01.068 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:25:01.076 +01:00 [INF] Authorization was successful.
2020-11-27 22:25:01.084 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:25:01.099 +01:00 [INF] Route matched with {action = "InvalidAction", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InvalidAction() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:25:01.113 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:25:01.123 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:25:01.166 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:25:01.176 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:25:01.182 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:25:01.192 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:25:01.203 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:25:01.209 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:01.218 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:01.228 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:01.236 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:01.243 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:25:01.373 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:01.382 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:01.394 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:01.402 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:01.420 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) in 228.0152ms
2020-11-27 22:25:01.430 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:25:01.437 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Test exception
   at COVIDpatients.Controllers.PatientsController.InvalidAction() in C:\Users\admin\source\repos\COVIDpatients\COVIDpatients\Controllers\PatientsController.cs:line 61
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-27 22:25:01.603 +01:00 [ERR] HTTP PUT /api/patients responded 500 in 569.9680 ms
2020-11-27 22:25:01.611 +01:00 [DBG] Connection id "0HM4J3BCRQTE3" completed keep alive response.
2020-11-27 22:25:01.624 +01:00 [INF] Request finished in 604.5452ms 500 text/plain
2020-11-27 22:25:01.652 +01:00 [DBG] Connection id "0HM4J3BCRQTE3", Request id "0HM4J3BCRQTE3:00000002": started reading request body.
2020-11-27 22:25:01.661 +01:00 [DBG] Connection id "0HM4J3BCRQTE3", Request id "0HM4J3BCRQTE3:00000002": done reading request body.
2020-11-27 22:25:09.028 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 108
2020-11-27 22:25:09.035 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:25:09.039 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:25:09.045 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:25:09.055 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:25:09.067 +01:00 [INF] Successfully validated the token.
2020-11-27 22:25:09.073 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:25:09.084 +01:00 [INF] Authorization was successful.
2020-11-27 22:25:09.089 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:25:09.127 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:25:09.134 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:25:09.141 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:25:09.146 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:25:09.156 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:25:09.162 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:25:09.168 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:25:09.179 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:25:09.198 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:25:09.209 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:25:09.217 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:25:09.230 +01:00 [DBG] Connection id "0HM4J3BCRQTE3", Request id "0HM4J3BCRQTE3:00000003": started reading request body.
2020-11-27 22:25:09.235 +01:00 [DBG] Connection id "0HM4J3BCRQTE3", Request id "0HM4J3BCRQTE3:00000003": done reading request body.
2020-11-27 22:25:09.251 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:25:09.258 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:25:09.263 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:25:09.268 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:25:09.281 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:25:09.290 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:09.297 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:09.308 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:09.326 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:09.335 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:25:09.346 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:25:09.420 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:25:09.468 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:25:09.495 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:25:09.504 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:25:09.515 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:25:09.548 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:25:09.570 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:25:09.578 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:25:09.591 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:25:09.673 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:25:09.790 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:25:09.795 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2020-11-27 22:25:09.820 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:25:09.961 +01:00 [INF] Executed DbCommand (151ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:25:10.003 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:25:10.022 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:25:10.030 +01:00 [DBG] Committing transaction.
2020-11-27 22:25:10.125 +01:00 [DBG] Committing transaction.
2020-11-27 22:25:10.135 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:25:10.143 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:25:10.156 +01:00 [DBG] Disposing transaction.
2020-11-27 22:25:10.183 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:25:10.193 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:25:11.588 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 2233.9233ms.
2020-11-27 22:25:11.601 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:11.610 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:25:11.620 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:11.629 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:25:11.639 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:25:11.648 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:25:11.658 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:25:11.663 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:25:11.677 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:25:11.682 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:25:11.689 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:25:11.697 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:25:11.703 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:25:11.712 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:25:11.719 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:25:11.727 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:25:11.734 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 2566.1819ms
2020-11-27 22:25:11.742 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:25:11.748 +01:00 [INF] HTTP POST /api/patients responded 201 in 2709.0121 ms
2020-11-27 22:25:11.755 +01:00 [DBG] Connection id "0HM4J3BCRQTE3" completed keep alive response.
2020-11-27 22:25:11.761 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:25:11.766 +01:00 [INF] Request finished in 2737.6974ms 201 application/json; charset=utf-8
2020-11-27 22:26:25.005 +01:00 [DBG] Hosting starting
2020-11-27 22:26:25.389 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:26:25.442 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:26:25.496 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:26:25.538 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:26:25.574 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:26:25.590 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:26:25.599 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:26:25.613 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:26:25.626 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:26:25.638 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:26:25.645 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:26:27.526 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:26:27.675 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:26:27.704 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:26:27.724 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:26:27.732 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:26:27.737 +01:00 [INF] Hosting environment: Development
2020-11-27 22:26:27.750 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:26:27.830 +01:00 [DBG] Hosting started
2020-11-27 22:26:27.907 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" accepted.
2020-11-27 22:26:27.946 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" started.
2020-11-27 22:26:28.239 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:26:28.261 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:26:28.278 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:26:28.400 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:26:28.438 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:26:28.452 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:26:29.648 +01:00 [INF] Successfully validated the token.
2020-11-27 22:26:29.657 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:26:29.679 +01:00 [INF] Authorization was successful.
2020-11-27 22:26:29.687 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:26:29.708 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:26:29.769 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:26:29.778 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:26:29.787 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:26:29.794 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:26:29.801 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:26:29.807 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:26:29.818 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:26:30.034 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:26:30.146 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:26:30.154 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:30.162 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:30.171 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:30.179 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:30.201 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:26:31.020 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:26:31.281 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:26:31.341 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:26:31.418 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2020-11-27 22:26:31.434 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:32.177 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:32.212 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:26:32.357 +01:00 [INF] Executed DbCommand (156ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:26:32.438 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.481 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.489 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.497 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.513 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.522 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.529 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.536 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.543 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.549 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.558 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.564 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.570 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.578 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.589 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.595 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.601 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.612 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.621 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:32.638 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:26:32.647 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:32.666 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:32.680 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2462.8834ms.
2020-11-27 22:26:32.688 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:32.696 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:32.703 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:32.712 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:32.722 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:32.730 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:32.737 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:26:32.745 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:26:32.762 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:26:32.770 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:26:32.780 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:26:32.792 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:26:32.801 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:26:32.867 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:26:32.875 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:32.885 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:32.907 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3080.4806ms
2020-11-27 22:26:32.914 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:26:32.929 +01:00 [INF] HTTP GET /api/patients responded 200 in 4635.7017 ms
2020-11-27 22:26:32.936 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" completed keep alive response.
2020-11-27 22:26:32.949 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:26:32.969 +01:00 [INF] Request finished in 4749.8605ms 200 application/json; charset=utf-8
2020-11-27 22:26:35.076 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 107
2020-11-27 22:26:35.084 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:26:35.089 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:26:35.095 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:26:35.104 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:26:35.115 +01:00 [INF] Successfully validated the token.
2020-11-27 22:26:35.122 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:26:35.131 +01:00 [INF] Authorization was successful.
2020-11-27 22:26:35.136 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:26:35.170 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:26:35.179 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:26:35.186 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:26:35.193 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:26:35.200 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:26:35.207 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:26:35.214 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:26:35.222 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:26:35.238 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:26:35.248 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:26:35.258 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:26:35.269 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6", Request id "0HM4J3CCSJ5G6:00000002": started reading request body.
2020-11-27 22:26:35.276 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6", Request id "0HM4J3CCSJ5G6:00000002": done reading request body.
2020-11-27 22:26:35.298 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:26:35.311 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:26:35.326 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:26:35.334 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:26:35.351 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:26:35.360 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:35.367 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:35.374 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:35.381 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:35.388 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:26:35.395 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:26:35.456 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:26:35.506 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:35.545 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:35.559 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:26:35.569 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:26:35.593 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:26:35.612 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:35.620 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:35.629 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:26:35.694 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:26:35.816 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:26:35.823 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2020-11-27 22:26:35.848 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:26:35.982 +01:00 [INF] Executed DbCommand (144ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:26:36.018 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:26:36.035 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:26:36.044 +01:00 [DBG] Committing transaction.
2020-11-27 22:26:36.119 +01:00 [DBG] Committing transaction.
2020-11-27 22:26:36.125 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:36.130 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:26:36.138 +01:00 [DBG] Disposing transaction.
2020-11-27 22:26:36.176 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:26:36.188 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:26:37.493 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 2092.5824ms.
2020-11-27 22:26:37.502 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:37.510 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:26:37.522 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:37.531 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:26:37.541 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:37.550 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:37.560 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:26:37.566 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:26:37.578 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:26:37.584 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:26:37.594 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:26:37.602 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:26:37.613 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:26:37.623 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:26:37.631 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:37.640 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:26:37.653 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 2438.949ms
2020-11-27 22:26:37.662 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:26:37.673 +01:00 [INF] HTTP POST /api/patients responded 201 in 2583.7809 ms
2020-11-27 22:26:37.685 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" completed keep alive response.
2020-11-27 22:26:37.697 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:26:37.704 +01:00 [INF] Request finished in 2628.3276ms 201 application/json; charset=utf-8
2020-11-27 22:28:57.835 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" received FIN.
2020-11-27 22:28:57.845 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" sending FIN because: "The client closed the connection."
2020-11-27 22:28:57.852 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" disconnecting.
2020-11-27 22:28:57.865 +01:00 [DBG] Connection id "0HM4J3CCSJ5G6" stopped.
2020-11-27 22:36:33.547 +01:00 [DBG] Hosting starting
2020-11-27 22:36:33.878 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:36:33.928 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:36:33.975 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:36:34.008 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:36:34.037 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:36:34.051 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:36:34.060 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:36:34.076 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:36:34.090 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:36:34.103 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:36:34.110 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:36:37.073 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:36:37.622 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:36:37.684 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:36:37.708 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:36:37.714 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:36:37.720 +01:00 [INF] Hosting environment: Development
2020-11-27 22:36:37.727 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:36:37.733 +01:00 [DBG] Hosting started
2020-11-27 22:36:39.301 +01:00 [DBG] Connection id "0HM4J3I33ATBB" accepted.
2020-11-27 22:36:39.309 +01:00 [DBG] Connection id "0HM4J3I33ATBB" started.
2020-11-27 22:36:39.504 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:36:39.524 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:36:39.529 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:36:39.598 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:36:39.609 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:36:39.617 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:36:40.679 +01:00 [INF] Successfully validated the token.
2020-11-27 22:36:40.691 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:36:40.711 +01:00 [INF] Authorization was successful.
2020-11-27 22:36:40.717 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:36:40.742 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:36:40.796 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:36:40.804 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:36:40.811 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:36:40.817 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:36:40.827 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:36:40.833 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:36:40.843 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:36:41.074 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:36:41.171 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:36:41.179 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:36:41.191 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:36:41.198 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:36:41.207 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:36:41.231 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:36:42.035 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:36:42.322 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:36:42.405 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:36:42.478 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (67ms).
2020-11-27 22:36:42.496 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:36:43.272 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:36:43.295 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:36:43.434 +01:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:36:43.508 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.554 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.560 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.568 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.574 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.580 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.589 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.596 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.601 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.610 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.621 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.629 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.640 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.652 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.663 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.671 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.679 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.687 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.695 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.704 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:36:43.724 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:36:43.733 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:36:43.754 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:36:43.775 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2524.9286ms.
2020-11-27 22:36:43.784 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:36:43.794 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:36:43.803 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:36:43.812 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:36:43.826 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:36:43.835 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:36:43.847 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:36:43.871 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:36:43.894 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:36:43.900 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:36:43.907 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:36:43.914 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:36:43.922 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:36:43.978 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:36:43.986 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:36:43.995 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:36:44.010 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3159.7642ms
2020-11-27 22:36:44.017 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:36:44.034 +01:00 [INF] HTTP GET /api/patients responded 200 in 4492.1596 ms
2020-11-27 22:36:44.041 +01:00 [DBG] Connection id "0HM4J3I33ATBB" completed keep alive response.
2020-11-27 22:36:44.064 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:36:44.094 +01:00 [INF] Request finished in 4601.2789ms 200 application/json; charset=utf-8
2020-11-27 22:36:59.546 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 100
2020-11-27 22:36:59.553 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:36:59.559 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:36:59.564 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:36:59.572 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:36:59.581 +01:00 [INF] Successfully validated the token.
2020-11-27 22:36:59.586 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:36:59.596 +01:00 [INF] Authorization was successful.
2020-11-27 22:36:59.601 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:36:59.639 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:36:59.647 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:36:59.657 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:36:59.665 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:36:59.675 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:36:59.681 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:36:59.690 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:36:59.698 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:36:59.717 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:36:59.729 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:36:59.737 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:36:59.749 +01:00 [DBG] Connection id "0HM4J3I33ATBB", Request id "0HM4J3I33ATBB:00000002": started reading request body.
2020-11-27 22:36:59.757 +01:00 [DBG] Connection id "0HM4J3I33ATBB", Request id "0HM4J3I33ATBB:00000002": done reading request body.
2020-11-27 22:36:59.770 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:36:59.776 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:36:59.781 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:36:59.789 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:36:59.801 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:36:59.810 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:36:59.818 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:36:59.830 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:36:59.843 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:36:59.851 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:36:59.860 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:36:59.936 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:36:59.998 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:37:00.061 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:37:00.073 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:37:00.091 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:37:00.121 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:37:00.154 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:00.164 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:00.175 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:37:00.251 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:37:00.362 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:37:00.369 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2020-11-27 22:37:00.395 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:37:00.510 +01:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:37:00.554 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:37:00.571 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:37:00.578 +01:00 [DBG] Committing transaction.
2020-11-27 22:37:00.692 +01:00 [DBG] Committing transaction.
2020-11-27 22:37:00.701 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:00.712 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:00.726 +01:00 [DBG] Disposing transaction.
2020-11-27 22:37:00.759 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:37:00.769 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:37:02.015 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 2146.8301ms.
2020-11-27 22:37:02.026 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:37:02.034 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:37:02.043 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:37:02.056 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:37:02.066 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:02.075 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:02.084 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:37:02.092 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:37:02.102 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:37:02.108 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:37:02.115 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:37:02.122 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:37:02.130 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:37:02.137 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:37:02.146 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:02.161 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:02.169 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 2479.0216ms
2020-11-27 22:37:02.179 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:37:02.199 +01:00 [INF] HTTP POST /api/patients responded 201 in 2640.0321 ms
2020-11-27 22:37:02.209 +01:00 [DBG] Connection id "0HM4J3I33ATBB" completed keep alive response.
2020-11-27 22:37:02.217 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:37:02.227 +01:00 [INF] Request finished in 2681.1274ms 201 application/json; charset=utf-8
2020-11-27 22:37:15.235 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 111
2020-11-27 22:37:15.243 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:37:15.249 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:37:15.258 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:37:15.267 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:37:15.283 +01:00 [INF] Successfully validated the token.
2020-11-27 22:37:15.291 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:37:15.299 +01:00 [INF] Authorization was successful.
2020-11-27 22:37:15.304 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:37:15.313 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:37:15.329 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:37:15.335 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:37:15.344 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:37:15.356 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:37:15.366 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:37:15.374 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:37:15.384 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:37:15.391 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:37:15.397 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:37:15.406 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:37:15.416 +01:00 [DBG] Connection id "0HM4J3I33ATBB", Request id "0HM4J3I33ATBB:00000003": started reading request body.
2020-11-27 22:37:15.424 +01:00 [DBG] Connection id "0HM4J3I33ATBB", Request id "0HM4J3I33ATBB:00000003": done reading request body.
2020-11-27 22:37:15.432 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:37:15.437 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:37:15.443 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:37:15.449 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:37:15.460 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:37:15.466 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:37:15.473 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:37:15.480 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:37:15.490 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:37:15.498 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:37:15.504 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:37:15.527 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:37:15.535 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:37:15.545 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:37:15.556 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:37:15.564 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:37:15.571 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:37:15.577 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:15.584 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:15.592 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:37:15.647 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:37:15.655 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:37:15.660 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2020-11-27 22:37:15.665 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:37:15.729 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:37:15.741 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:37:15.749 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:37:15.755 +01:00 [DBG] Committing transaction.
2020-11-27 22:37:15.822 +01:00 [DBG] Committing transaction.
2020-11-27 22:37:15.829 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:15.835 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:37:15.842 +01:00 [DBG] Disposing transaction.
2020-11-27 22:37:15.850 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:37:15.869 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:37:16.667 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 1155.808ms.
2020-11-27 22:37:16.692 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:37:16.704 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:37:16.719 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:37:16.729 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:37:16.737 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:16.747 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:16.757 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:37:16.763 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:37:16.773 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:37:16.778 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:37:16.784 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:37:16.793 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:37:16.800 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:37:16.809 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:37:16.818 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:16.829 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:37:16.835 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 1461.4773ms
2020-11-27 22:37:16.841 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:37:16.847 +01:00 [INF] HTTP POST /api/patients responded 201 in 1598.1194 ms
2020-11-27 22:37:16.854 +01:00 [DBG] Connection id "0HM4J3I33ATBB" completed keep alive response.
2020-11-27 22:37:16.862 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:37:16.868 +01:00 [INF] Request finished in 1633.1776ms 201 application/json; charset=utf-8
2020-11-27 22:38:55.943 +01:00 [DBG] Hosting starting
2020-11-27 22:38:56.642 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:38:56.836 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:38:56.902 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:38:56.946 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:38:56.991 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:38:57.017 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:38:57.034 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:38:57.096 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:38:57.152 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:38:57.266 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:38:57.275 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:38:59.658 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:38:59.782 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:38:59.814 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:38:59.832 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:38:59.843 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:38:59.852 +01:00 [INF] Hosting environment: Development
2020-11-27 22:38:59.860 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:38:59.864 +01:00 [DBG] Hosting started
2020-11-27 22:39:12.337 +01:00 [DBG] Connection id "0HM4J3JGMOFFP" accepted.
2020-11-27 22:39:12.346 +01:00 [DBG] Connection id "0HM4J3JGMOFFP" started.
2020-11-27 22:39:12.568 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 113
2020-11-27 22:39:12.581 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:39:12.590 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:39:12.679 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:39:12.702 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:39:12.712 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:39:13.869 +01:00 [INF] Successfully validated the token.
2020-11-27 22:39:13.879 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:39:13.902 +01:00 [INF] Authorization was successful.
2020-11-27 22:39:13.909 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:39:13.939 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:39:14.045 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:39:14.054 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:39:14.062 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:39:14.067 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:39:14.075 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:39:14.082 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:39:14.090 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:39:14.289 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:39:14.393 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:39:14.435 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:39:14.451 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:39:14.463 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:39:14.486 +01:00 [DBG] Connection id "0HM4J3JGMOFFP", Request id "0HM4J3JGMOFFP:00000001": started reading request body.
2020-11-27 22:39:14.493 +01:00 [DBG] Connection id "0HM4J3JGMOFFP", Request id "0HM4J3JGMOFFP:00000001": done reading request body.
2020-11-27 22:39:14.509 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:39:14.515 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:39:14.522 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:39:14.528 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:39:14.543 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:39:14.551 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:39:14.559 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:39:14.565 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:39:14.570 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:39:14.587 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:39:14.595 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:39:15.386 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:39:15.489 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:39:15.600 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:39:15.609 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:39:15.620 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:39:15.646 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:39:15.737 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:39:16.614 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:39:16.628 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:39:16.707 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:39:16.832 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:39:16.860 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2020-11-27 22:39:16.930 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:39:17.150 +01:00 [INF] Executed DbCommand (238ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:39:17.235 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:39:17.273 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:39:17.288 +01:00 [DBG] Committing transaction.
2020-11-27 22:39:17.378 +01:00 [DBG] Committing transaction.
2020-11-27 22:39:17.389 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:39:17.410 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:39:17.426 +01:00 [DBG] Disposing transaction.
2020-11-27 22:39:17.469 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:39:17.480 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:39:18.966 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 4354.9449ms.
2020-11-27 22:39:18.977 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:39:18.986 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:39:18.999 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:39:19.009 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:39:19.019 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:39:19.027 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:39:19.037 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:39:19.047 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:39:19.064 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:39:19.069 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:39:19.075 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:39:19.084 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:39:19.093 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:39:19.124 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:39:19.145 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:39:19.154 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:39:19.179 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 5077.414ms
2020-11-27 22:39:19.198 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:39:19.216 +01:00 [INF] HTTP POST /api/patients responded 201 in 6614.0117 ms
2020-11-27 22:39:19.228 +01:00 [DBG] Connection id "0HM4J3JGMOFFP" completed keep alive response.
2020-11-27 22:39:19.242 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:39:19.258 +01:00 [INF] Request finished in 6698.1637ms 201 application/json; charset=utf-8
2020-11-27 22:41:12.560 +01:00 [DBG] Hosting starting
2020-11-27 22:41:12.971 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:41:13.019 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:41:13.065 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:41:13.108 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:41:13.138 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:41:13.148 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:41:13.156 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:41:13.168 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:41:13.181 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:41:13.195 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:41:13.200 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:41:15.240 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:41:15.364 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:41:15.436 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:41:15.459 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:41:15.465 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:41:15.473 +01:00 [INF] Hosting environment: Development
2020-11-27 22:41:15.479 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:41:15.488 +01:00 [DBG] Hosting started
2020-11-27 22:41:30.902 +01:00 [DBG] Connection id "0HM4J3KQ08AA0" accepted.
2020-11-27 22:41:30.909 +01:00 [DBG] Connection id "0HM4J3KQ08AA0" started.
2020-11-27 22:41:31.085 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 107
2020-11-27 22:41:31.100 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:41:31.104 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:41:31.180 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:41:31.198 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:41:31.208 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:41:32.131 +01:00 [INF] Successfully validated the token.
2020-11-27 22:41:32.138 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:41:32.160 +01:00 [INF] Authorization was successful.
2020-11-27 22:41:32.165 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:41:32.185 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:41:32.279 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:41:32.290 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:41:32.296 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:41:32.301 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:41:32.309 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:41:32.316 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:41:32.325 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:41:32.557 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:41:32.641 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:41:32.670 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:41:32.686 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:41:32.695 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:41:32.720 +01:00 [DBG] Connection id "0HM4J3KQ08AA0", Request id "0HM4J3KQ08AA0:00000001": started reading request body.
2020-11-27 22:41:32.728 +01:00 [DBG] Connection id "0HM4J3KQ08AA0", Request id "0HM4J3KQ08AA0:00000001": done reading request body.
2020-11-27 22:41:32.743 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:41:32.748 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:41:32.754 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:41:32.760 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:41:32.773 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:41:32.782 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:41:32.792 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:41:32.799 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:41:32.805 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:41:32.820 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:41:32.827 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:41:33.597 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:41:33.669 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:41:33.768 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:41:33.780 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:41:33.798 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:41:33.826 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:41:33.903 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:41:34.714 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:41:34.726 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:41:34.806 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:41:34.906 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:41:34.925 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2020-11-27 22:41:34.971 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:41:35.154 +01:00 [INF] Executed DbCommand (186ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:41:35.204 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:41:35.232 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:41:35.249 +01:00 [DBG] Committing transaction.
2020-11-27 22:41:35.339 +01:00 [DBG] Committing transaction.
2020-11-27 22:41:35.351 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:41:35.375 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:41:35.383 +01:00 [DBG] Disposing transaction.
2020-11-27 22:41:35.409 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:41:35.418 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:41:36.688 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 3844.5614ms.
2020-11-27 22:41:36.699 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:41:36.711 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:41:36.727 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:41:36.738 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:41:36.760 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:41:36.768 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:41:36.786 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:41:36.798 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:41:36.812 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:41:36.819 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:41:36.833 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:41:36.841 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:41:36.851 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:41:36.881 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:41:36.888 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:41:36.896 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:41:36.913 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 4579.4844ms
2020-11-27 22:41:36.922 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:41:36.938 +01:00 [INF] HTTP POST /api/patients responded 201 in 5821.1160 ms
2020-11-27 22:41:36.949 +01:00 [DBG] Connection id "0HM4J3KQ08AA0" completed keep alive response.
2020-11-27 22:41:36.963 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:41:36.978 +01:00 [INF] Request finished in 5900.5737ms 201 application/json; charset=utf-8
2020-11-27 22:41:44.416 +01:00 [DBG] Connection id "0HM4J3KQ08AA0" reset.
2020-11-27 22:41:44.465 +01:00 [DBG] Connection id "0HM4J3KQ08AA0" sending FIN because: "The client closed the connection."
2020-11-27 22:41:44.475 +01:00 [DBG] Connection id "0HM4J3KQ08AA0" disconnecting.
2020-11-27 22:41:44.496 +01:00 [DBG] Connection id "0HM4J3KQ08AA0" stopped.
2020-11-27 22:45:35.739 +01:00 [DBG] Hosting starting
2020-11-27 22:45:36.184 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:45:36.240 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:45:36.277 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:45:36.305 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:45:36.328 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:45:36.353 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:45:36.399 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:45:36.421 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:45:36.442 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:45:36.479 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:45:36.607 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:45:38.819 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:45:38.978 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:45:39.050 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:45:39.104 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:45:39.141 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:45:39.164 +01:00 [INF] Hosting environment: Development
2020-11-27 22:45:39.177 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:45:39.195 +01:00 [DBG] Hosting started
2020-11-27 22:45:41.066 +01:00 [DBG] Connection id "0HM4J3N4HVTFG" accepted.
2020-11-27 22:45:41.075 +01:00 [DBG] Connection id "0HM4J3N4HVTFG" started.
2020-11-27 22:45:41.237 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:45:41.254 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:45:41.261 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:45:41.376 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:45:41.388 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:45:41.398 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:45:43.159 +01:00 [INF] Successfully validated the token.
2020-11-27 22:45:43.167 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:45:43.190 +01:00 [INF] Authorization was successful.
2020-11-27 22:45:43.196 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:45:43.218 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:45:43.296 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:45:43.306 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:45:43.312 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:45:43.318 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:45:43.327 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:45:43.334 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:45:43.346 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:45:43.581 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:45:43.666 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:45:43.672 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:43.678 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:43.686 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:43.694 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:43.710 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:45:43.721 +01:00 [INF] Requested patients list
2020-11-27 22:45:44.591 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:45:44.909 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:45:44.973 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:45:45.061 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2020-11-27 22:45:45.084 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:45.925 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:45.951 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:45:46.085 +01:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:45:46.168 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.211 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.220 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.228 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.239 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.248 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.257 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.263 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.270 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.279 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.296 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.310 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.394 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.421 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.432 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.440 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.447 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.457 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.465 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.475 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.483 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.491 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.498 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.506 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:46.531 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:45:46.544 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:46.565 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:46.583 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2854.4965ms.
2020-11-27 22:45:46.593 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:46.601 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:46.610 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:46.617 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:46.628 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:46.636 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:46.646 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:45:46.658 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:45:46.670 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:45:46.676 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:45:46.683 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:45:46.693 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:45:46.699 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:45:46.766 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:45:46.776 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:46.785 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:46.806 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3451.3164ms
2020-11-27 22:45:46.813 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:45:46.833 +01:00 [INF] HTTP GET /api/patients responded 200 in 5559.5288 ms
2020-11-27 22:45:46.841 +01:00 [DBG] Connection id "0HM4J3N4HVTFG" completed keep alive response.
2020-11-27 22:45:46.851 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:45:46.866 +01:00 [INF] Request finished in 5635.9925ms 200 application/json; charset=utf-8
2020-11-27 22:45:58.809 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:45:58.816 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:45:58.822 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:45:58.828 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:45:58.837 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:45:58.849 +01:00 [INF] Successfully validated the token.
2020-11-27 22:45:58.859 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:45:58.868 +01:00 [INF] Authorization was successful.
2020-11-27 22:45:58.873 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:45:58.879 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:45:58.890 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:45:58.897 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:45:58.903 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:45:58.911 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:45:58.918 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:45:58.927 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:45:58.941 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:45:58.947 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:58.953 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:58.960 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:58.967 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:58.974 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:45:58.980 +01:00 [INF] Requested patients list
2020-11-27 22:45:59.051 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:45:59.060 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:45:59.070 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2020-11-27 22:45:59.090 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:59.101 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:59.109 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:45:59.187 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:45:59.197 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.204 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.212 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.222 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.229 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.246 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.264 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.273 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.279 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.292 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.299 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.307 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.316 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.324 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.334 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.343 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.355 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.377 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.388 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.398 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.407 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.416 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.426 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.438 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:45:59.447 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:45:59.453 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:59.461 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:45:59.470 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 489.1715ms.
2020-11-27 22:45:59.498 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:59.557 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:45:59.565 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:59.574 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:45:59.583 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:59.594 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:59.602 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:45:59.611 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:45:59.624 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:45:59.631 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:45:59.638 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:45:59.646 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:45:59.657 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:45:59.669 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:45:59.681 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:59.705 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:45:59.715 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 787.824ms
2020-11-27 22:45:59.733 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:45:59.745 +01:00 [INF] HTTP GET /api/patients responded 200 in 923.3633 ms
2020-11-27 22:45:59.758 +01:00 [DBG] Connection id "0HM4J3N4HVTFG" completed keep alive response.
2020-11-27 22:45:59.782 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:45:59.800 +01:00 [INF] Request finished in 991.8193ms 200 application/json; charset=utf-8
2020-11-27 22:46:22.780 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 111
2020-11-27 22:46:22.785 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:46:22.790 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:46:22.797 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:46:22.805 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:46:22.817 +01:00 [INF] Successfully validated the token.
2020-11-27 22:46:22.823 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:46:22.830 +01:00 [INF] Authorization was successful.
2020-11-27 22:46:22.835 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:46:22.875 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:46:22.883 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:46:22.892 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:46:22.898 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:46:22.905 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:46:22.912 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:46:22.918 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:46:22.929 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:46:22.949 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:46:22.963 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:46:22.972 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:46:22.988 +01:00 [DBG] Connection id "0HM4J3N4HVTFG", Request id "0HM4J3N4HVTFG:00000003": started reading request body.
2020-11-27 22:46:22.995 +01:00 [DBG] Connection id "0HM4J3N4HVTFG", Request id "0HM4J3N4HVTFG:00000003": done reading request body.
2020-11-27 22:46:23.008 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:46:23.014 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:46:23.019 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:46:23.026 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:46:23.037 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:46:23.045 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:46:23.053 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:46:23.059 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:46:23.066 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:46:23.075 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:46:23.082 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:46:23.105 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:46:23.157 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:46:23.193 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:46:23.203 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:46:23.215 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:46:23.247 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:46:23.272 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:46:23.279 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:46:23.301 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:46:23.392 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:46:23.490 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:46:23.495 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2020-11-27 22:46:23.522 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:46:23.653 +01:00 [INF] Executed DbCommand (141ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:46:23.706 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:46:23.730 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:46:23.738 +01:00 [DBG] Committing transaction.
2020-11-27 22:46:23.865 +01:00 [DBG] Committing transaction.
2020-11-27 22:46:23.871 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:46:23.876 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:46:23.883 +01:00 [DBG] Disposing transaction.
2020-11-27 22:46:23.915 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:46:23.927 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:46:25.315 +01:00 [INF] Added patient: kkk sds
2020-11-27 22:46:25.325 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 2235.725ms.
2020-11-27 22:46:25.334 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:46:25.348 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:46:25.364 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:46:25.376 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:46:25.387 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:46:25.396 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:46:25.405 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:46:25.410 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:46:25.421 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:46:25.427 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:46:25.435 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:46:25.441 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:46:25.448 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:46:25.459 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:46:25.468 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:46:25.479 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:46:25.494 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 2576.1529ms
2020-11-27 22:46:25.502 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:46:25.512 +01:00 [INF] HTTP POST /api/patients responded 201 in 2721.6838 ms
2020-11-27 22:46:25.521 +01:00 [DBG] Connection id "0HM4J3N4HVTFG" completed keep alive response.
2020-11-27 22:46:25.529 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:46:25.534 +01:00 [INF] Request finished in 2755.0079ms 201 application/json; charset=utf-8
2020-11-27 22:47:24.306 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44305/api/patients application/json; charset=utf-8 3
2020-11-27 22:47:24.311 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:47:24.317 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:47:24.349 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:47:24.359 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:47:24.369 +01:00 [INF] Successfully validated the token.
2020-11-27 22:47:24.377 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:47:24.383 +01:00 [INF] Authorization was successful.
2020-11-27 22:47:24.394 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:47:24.405 +01:00 [INF] Route matched with {action = "InvalidAction", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InvalidAction() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:47:24.414 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:47:24.421 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:47:24.427 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:47:24.434 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:47:24.440 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:47:24.446 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:47:24.454 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:47:24.460 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:24.465 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:24.472 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:24.478 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:24.485 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:47:24.635 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:24.641 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:24.646 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:24.653 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:24.662 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) in 216.1549ms
2020-11-27 22:47:24.667 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:47:24.676 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Test exception
   at COVIDpatients.Controllers.PatientsController.InvalidAction() in C:\Users\admin\source\repos\COVIDpatients\COVIDpatients\Controllers\PatientsController.cs:line 65
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-27 22:47:24.837 +01:00 [ERR] HTTP PUT /api/patients responded 500 in 520.5311 ms
2020-11-27 22:47:24.849 +01:00 [DBG] Connection id "0HM4J3N4HVTFG" completed keep alive response.
2020-11-27 22:47:24.859 +01:00 [INF] Request finished in 553.358ms 500 text/plain
2020-11-27 22:47:24.890 +01:00 [DBG] Connection id "0HM4J3N4HVTFG", Request id "0HM4J3N4HVTFG:00000004": started reading request body.
2020-11-27 22:47:24.897 +01:00 [DBG] Connection id "0HM4J3N4HVTFG", Request id "0HM4J3N4HVTFG:00000004": done reading request body.
2020-11-27 22:47:49.285 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 106
2020-11-27 22:47:49.293 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:47:49.299 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:47:49.307 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:47:49.315 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:47:49.326 +01:00 [INF] Successfully validated the token.
2020-11-27 22:47:49.336 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:47:49.346 +01:00 [INF] Authorization was successful.
2020-11-27 22:47:49.355 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:47:49.362 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:47:49.374 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:47:49.380 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:47:49.387 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:47:49.397 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:47:49.405 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:47:49.412 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:47:49.423 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:47:49.430 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:47:49.440 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:47:49.447 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:47:49.455 +01:00 [DBG] Connection id "0HM4J3N4HVTFG", Request id "0HM4J3N4HVTFG:00000005": started reading request body.
2020-11-27 22:47:49.461 +01:00 [DBG] Connection id "0HM4J3N4HVTFG", Request id "0HM4J3N4HVTFG:00000005": done reading request body.
2020-11-27 22:47:49.467 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:47:49.472 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:47:49.477 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:47:49.482 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:47:49.489 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:47:49.495 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:49.502 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:49.508 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:49.514 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:49.521 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:47:49.528 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:47:49.537 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:47:49.547 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:47:49.560 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:47:49.568 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:47:49.576 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:47:49.581 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:47:49.588 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:47:49.596 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:47:49.602 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:47:49.665 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:47:49.671 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:47:49.682 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2020-11-27 22:47:49.689 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:47:49.760 +01:00 [INF] Executed DbCommand (72ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:47:49.771 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:47:49.778 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:47:49.782 +01:00 [DBG] Committing transaction.
2020-11-27 22:47:49.865 +01:00 [DBG] Committing transaction.
2020-11-27 22:47:49.872 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:47:49.878 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:47:49.884 +01:00 [DBG] Disposing transaction.
2020-11-27 22:47:49.891 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:47:49.898 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:47:50.709 +01:00 [INF] Added patient: a a
2020-11-27 22:47:50.718 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 1182.3463ms.
2020-11-27 22:47:50.731 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:50.746 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:47:50.761 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:50.776 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:47:50.788 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:47:50.797 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:47:50.808 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:47:50.813 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:47:50.827 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:47:50.837 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:47:50.857 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:47:50.867 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:47:50.883 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:47:50.897 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:47:50.912 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:47:50.925 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:47:50.933 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 1521.2766ms
2020-11-27 22:47:50.942 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:47:50.949 +01:00 [INF] HTTP POST /api/patients responded 201 in 1650.1036 ms
2020-11-27 22:47:50.959 +01:00 [DBG] Connection id "0HM4J3N4HVTFG" completed keep alive response.
2020-11-27 22:47:50.967 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:47:50.979 +01:00 [INF] Request finished in 1694.84ms 201 application/json; charset=utf-8
2020-11-27 22:50:12.686 +01:00 [DBG] Hosting starting
2020-11-27 22:50:13.340 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:50:13.407 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:50:13.450 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:50:13.484 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:50:13.512 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:50:13.524 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:50:13.529 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:50:13.543 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:50:13.559 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:50:13.573 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:50:13.632 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:50:16.237 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:50:16.457 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:50:16.484 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:50:16.498 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:50:16.506 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:50:16.515 +01:00 [INF] Hosting environment: Development
2020-11-27 22:50:16.556 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:50:16.563 +01:00 [DBG] Hosting started
2020-11-27 22:50:19.645 +01:00 [DBG] Connection id "0HM4J3PNINAMF" accepted.
2020-11-27 22:50:19.655 +01:00 [DBG] Connection id "0HM4J3PNINAMF" started.
2020-11-27 22:50:19.832 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44305/api/patients application/json; charset=utf-8 3
2020-11-27 22:50:19.843 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:50:19.848 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:50:19.929 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:50:19.939 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:50:19.947 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:50:21.098 +01:00 [INF] Successfully validated the token.
2020-11-27 22:50:21.106 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:50:21.130 +01:00 [INF] Authorization was successful.
2020-11-27 22:50:21.136 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:50:21.167 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:50:21.244 +01:00 [INF] Route matched with {action = "InvalidAction", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InvalidAction() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:50:21.254 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:50:21.262 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:50:21.268 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:50:21.276 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:50:21.283 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:50:21.293 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:50:21.511 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:50:21.588 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:50:21.595 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:21.606 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:21.614 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:21.627 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:21.647 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:50:21.915 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:21.929 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:21.942 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:21.950 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:21.974 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) in 669.7965ms
2020-11-27 22:50:21.984 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:50:21.996 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Test exception
   at COVIDpatients.Controllers.PatientsController.InvalidAction() in C:\Users\admin\source\repos\COVIDpatients\COVIDpatients\Controllers\PatientsController.cs:line 65
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-27 22:50:22.181 +01:00 [ERR] HTTP PUT /api/patients responded 500 in 2318.0217 ms
2020-11-27 22:50:22.189 +01:00 [DBG] Connection id "0HM4J3PNINAMF" completed keep alive response.
2020-11-27 22:50:22.198 +01:00 [INF] Request finished in 2376.4459ms 500 text/plain
2020-11-27 22:50:22.241 +01:00 [DBG] Connection id "0HM4J3PNINAMF", Request id "0HM4J3PNINAMF:00000001": started reading request body.
2020-11-27 22:50:22.247 +01:00 [DBG] Connection id "0HM4J3PNINAMF", Request id "0HM4J3PNINAMF:00000001": done reading request body.
2020-11-27 22:50:39.855 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 106
2020-11-27 22:50:39.869 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:50:39.878 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:50:39.884 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:50:39.898 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:50:39.917 +01:00 [INF] Successfully validated the token.
2020-11-27 22:50:39.927 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:50:39.935 +01:00 [INF] Authorization was successful.
2020-11-27 22:50:39.940 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:50:39.981 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:50:39.989 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:50:39.996 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:50:40.001 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:50:40.011 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:50:40.018 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:50:40.027 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:50:40.033 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:50:40.049 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:50:40.060 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 22:50:40.068 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 22:50:40.098 +01:00 [DBG] Connection id "0HM4J3PNINAMF", Request id "0HM4J3PNINAMF:00000002": started reading request body.
2020-11-27 22:50:40.106 +01:00 [DBG] Connection id "0HM4J3PNINAMF", Request id "0HM4J3PNINAMF:00000002": done reading request body.
2020-11-27 22:50:40.135 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 22:50:40.140 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:50:40.145 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:50:40.152 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 22:50:40.169 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:50:40.178 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:40.184 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:40.193 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:40.201 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:40.210 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:50:40.216 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 22:50:41.041 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:50:41.114 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:50:41.219 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:50:41.229 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 22:50:41.239 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 22:50:41.264 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 22:50:41.347 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:50:42.228 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:50:42.239 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 22:50:42.332 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 22:50:42.446 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:50:42.466 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2020-11-27 22:50:42.518 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:50:42.702 +01:00 [INF] Executed DbCommand (192ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 22:50:42.774 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 22:50:42.801 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:50:42.811 +01:00 [DBG] Committing transaction.
2020-11-27 22:50:42.930 +01:00 [DBG] Committing transaction.
2020-11-27 22:50:42.939 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:50:42.966 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:50:42.974 +01:00 [DBG] Disposing transaction.
2020-11-27 22:50:43.009 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:50:43.018 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 22:50:44.210 +01:00 [INF] Added patient: d d
2020-11-27 22:50:44.229 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 3994.8991ms.
2020-11-27 22:50:44.237 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:44.246 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:50:44.260 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:44.266 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:50:44.277 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:50:44.292 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:50:44.303 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:50:44.313 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:50:44.331 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:50:44.347 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:50:44.361 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:50:44.384 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:50:44.396 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 22:50:44.419 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 22:50:44.431 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:50:44.439 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:50:44.448 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 4421.3196ms
2020-11-27 22:50:44.458 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 22:50:44.464 +01:00 [INF] HTTP POST /api/patients responded 201 in 4586.2686 ms
2020-11-27 22:50:44.472 +01:00 [DBG] Connection id "0HM4J3PNINAMF" completed keep alive response.
2020-11-27 22:50:44.480 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:50:44.493 +01:00 [INF] Request finished in 4639.1111ms 201 application/json; charset=utf-8
2020-11-27 22:51:25.208 +01:00 [DBG] Connection id "0HM4J3PNINAMF" reset.
2020-11-27 22:51:25.315 +01:00 [DBG] Connection id "0HM4J3PNINAMF" sending FIN because: "The client closed the connection."
2020-11-27 22:51:25.329 +01:00 [DBG] Connection id "0HM4J3PNINAMF" disconnecting.
2020-11-27 22:51:25.357 +01:00 [DBG] Connection id "0HM4J3PNINAMF" stopped.
2020-11-27 22:57:38.438 +01:00 [DBG] Hosting starting
2020-11-27 22:57:38.878 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:57:38.929 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:57:38.971 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:57:39.010 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:57:39.097 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:57:39.109 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:57:39.117 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:57:39.136 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:57:39.169 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:57:39.182 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:57:39.188 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:57:41.345 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:57:41.574 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:57:41.604 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:57:41.624 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:57:41.631 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:57:41.651 +01:00 [INF] Hosting environment: Development
2020-11-27 22:57:41.666 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:57:41.703 +01:00 [DBG] Hosting started
2020-11-27 22:57:50.067 +01:00 [DBG] Connection id "0HM4J3TTQ8OG2" accepted.
2020-11-27 22:57:50.109 +01:00 [DBG] Connection id "0HM4J3TTQ8OG2" started.
2020-11-27 22:57:50.285 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 22:57:50.306 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:57:50.313 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:57:50.394 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:57:50.407 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:57:50.415 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:57:51.519 +01:00 [INF] Successfully validated the token.
2020-11-27 22:57:51.531 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:57:51.569 +01:00 [INF] Authorization was successful.
2020-11-27 22:57:51.576 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:57:51.601 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:57:51.655 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:57:51.663 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:57:51.669 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:57:51.676 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:57:51.691 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:57:51.697 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:57:51.705 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:57:51.929 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:57:52.027 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:57:52.033 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:57:52.041 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:57:52.046 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:57:52.054 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:57:52.073 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:57:52.081 +01:00 [INF] Requested patients list
2020-11-27 22:57:52.848 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 22:57:53.166 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 22:57:53.224 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 22:57:53.300 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2020-11-27 22:57:53.321 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:57:54.120 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:57:54.147 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:57:54.421 +01:00 [INF] Executed DbCommand (153ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 22:57:54.631 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:54.834 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:54.918 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:54.963 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:54.973 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:54.986 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:54.998 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.008 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.024 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.035 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.052 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.065 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.071 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.077 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.083 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.094 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.101 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.107 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.113 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.124 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.132 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.137 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.144 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.151 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.167 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.176 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.187 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 22:57:55.212 +01:00 [DBG] A data reader was disposed.
2020-11-27 22:57:55.238 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:57:55.260 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 22:57:55.280 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3187.6132ms.
2020-11-27 22:57:55.290 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:57:55.300 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:57:55.309 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:57:55.315 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:57:55.323 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:57:55.338 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:57:55.420 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:57:55.440 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 22:57:55.461 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 22:57:55.466 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 22:57:55.471 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 22:57:55.486 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 22:57:55.498 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 22:57:55.563 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 22:57:55.569 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:57:55.581 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 22:57:55.601 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3887.3244ms
2020-11-27 22:57:55.608 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 22:57:55.620 +01:00 [INF] HTTP GET /api/patients responded 200 in 5291.8736 ms
2020-11-27 22:57:55.629 +01:00 [DBG] Connection id "0HM4J3TTQ8OG2" completed keep alive response.
2020-11-27 22:57:55.639 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 22:57:55.653 +01:00 [INF] Request finished in 5376.5441ms 200 application/json; charset=utf-8
2020-11-27 22:58:48.014 +01:00 [DBG] Connection id "0HM4J3TTQ8OG2" reset.
2020-11-27 22:58:48.154 +01:00 [DBG] Connection id "0HM4J3TTQ8OG2" sending FIN because: "The client closed the connection."
2020-11-27 22:58:48.203 +01:00 [DBG] Connection id "0HM4J3TTQ8OG2" disconnecting.
2020-11-27 22:58:48.232 +01:00 [DBG] Connection id "0HM4J3TTQ8OG2" stopped.
2020-11-27 22:58:48.805 +01:00 [INF] Application is shutting down...
2020-11-27 22:58:48.811 +01:00 [DBG] Hosting stopping
2020-11-27 22:58:48.831 +01:00 [DBG] Hosting stopped
2020-11-27 22:59:09.261 +01:00 [DBG] Hosting starting
2020-11-27 22:59:09.706 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-27 22:59:09.765 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7.xml'.
2020-11-27 22:59:09.805 +01:00 [DBG] Found key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7}.
2020-11-27 22:59:09.841 +01:00 [DBG] Considering key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} with expiration date 2021-01-10 19:47:43Z as default key.
2020-11-27 22:59:09.878 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:59:09.892 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-11-27 22:59:09.907 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-11-27 22:59:09.921 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-11-27 22:59:09.934 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-11-27 22:59:09.950 +01:00 [DBG] Using key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} as the default key.
2020-11-27 22:59:09.963 +01:00 [DBG] Key ring with default key {fc429c8e-4ca9-4b2f-bc3b-5da71002c6d7} was loaded during application startup.
2020-11-27 22:59:12.381 +01:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-11-27 22:59:12.567 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FC23D6B511177678F5C080F952FB8EF95CA49102)
2020-11-27 22:59:12.593 +01:00 [INF] Now listening on: https://localhost:44305
2020-11-27 22:59:12.616 +01:00 [DBG] Loaded hosting startup assembly COVIDpatients
2020-11-27 22:59:12.661 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-27 22:59:12.669 +01:00 [INF] Hosting environment: Development
2020-11-27 22:59:12.676 +01:00 [INF] Content root path: C:\Users\admin\source\repos\COVIDpatients\COVIDpatients
2020-11-27 22:59:12.750 +01:00 [DBG] Hosting started
2020-11-27 22:59:17.892 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" accepted.
2020-11-27 22:59:17.900 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" started.
2020-11-27 22:59:18.066 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44305/api/patients application/json; charset=utf-8 3
2020-11-27 22:59:18.078 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-11-27 22:59:18.083 +01:00 [VRB] All hosts are allowed.
2020-11-27 22:59:18.163 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 22:59:18.174 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 22:59:18.183 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:59:19.183 +01:00 [INF] Successfully validated the token.
2020-11-27 22:59:19.192 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 22:59:19.220 +01:00 [INF] Authorization was successful.
2020-11-27 22:59:19.229 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:59:19.255 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-11-27 22:59:19.315 +01:00 [INF] Route matched with {action = "InvalidAction", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult InvalidAction() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 22:59:19.328 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 22:59:19.335 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 22:59:19.342 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 22:59:19.358 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 22:59:19.378 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 22:59:19.396 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:59:19.621 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2020-11-27 22:59:19.715 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 22:59:19.723 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:59:19.731 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:59:19.738 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:59:19.745 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:59:19.767 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) - Validation state: "Valid"
2020-11-27 22:59:20.022 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:59:20.029 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 22:59:20.037 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:59:20.044 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 22:59:20.069 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients) in 665.1393ms
2020-11-27 22:59:20.078 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.InvalidAction (COVIDpatients)'
2020-11-27 22:59:20.091 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Test exception
   at COVIDpatients.Controllers.PatientsController.InvalidAction() in C:\Users\admin\source\repos\COVIDpatients\COVIDpatients\Controllers\PatientsController.cs:line 65
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-27 22:59:20.313 +01:00 [ERR] HTTP PUT /api/patients responded 500 in 2217.7441 ms
2020-11-27 22:59:20.328 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" completed keep alive response.
2020-11-27 22:59:20.338 +01:00 [INF] Request finished in 2281.065ms 500 text/plain
2020-11-27 22:59:20.405 +01:00 [DBG] Connection id "0HM4J3UNVRMD5", Request id "0HM4J3UNVRMD5:00000001": started reading request body.
2020-11-27 22:59:20.412 +01:00 [DBG] Connection id "0HM4J3UNVRMD5", Request id "0HM4J3UNVRMD5:00000001": done reading request body.
2020-11-27 23:00:25.416 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/patients  
2020-11-27 23:00:25.427 +01:00 [VRB] All hosts are allowed.
2020-11-27 23:00:25.432 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 23:00:25.438 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 23:00:25.447 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 23:00:25.463 +01:00 [INF] Successfully validated the token.
2020-11-27 23:00:25.469 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 23:00:25.476 +01:00 [INF] Authorization was successful.
2020-11-27 23:00:25.480 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 23:00:25.492 +01:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 23:00:25.501 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 23:00:25.508 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 23:00:25.513 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 23:00:25.532 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 23:00:25.540 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 23:00:25.554 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 23:00:25.564 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 23:00:25.571 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:25.581 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:25.592 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:25.599 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:25.605 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) - Validation state: "Valid"
2020-11-27 23:00:25.615 +01:00 [INF] Requested patients list
2020-11-27 23:00:26.467 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 23:00:26.776 +01:00 [DBG] queryContext => new QueryingEnumerable<Patients>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Patients>, 
    COVIDpatients.Model.DpDataContext, 
    null
)
2020-11-27 23:00:26.829 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 23:00:26.908 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2020-11-27 23:00:26.923 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:27.697 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:27.720 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 23:00:27.893 +01:00 [INF] Executed DbCommand (169ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[age], [p].[email], [p].[name], [p].[startDate], [p].[surname]
FROM [Patients] AS [p]
2020-11-27 23:00:27.978 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.027 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.034 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.041 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.047 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.057 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.064 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.078 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.109 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.117 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.130 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.137 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.146 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.159 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.166 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.172 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.179 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.185 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.193 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.201 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.209 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.214 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.222 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.229 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.236 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.244 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.253 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:28.271 +01:00 [DBG] A data reader was disposed.
2020-11-27 23:00:28.280 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:28.307 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:28.337 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2707.552ms.
2020-11-27 23:00:28.350 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:28.362 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:28.374 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:28.383 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:28.396 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:28.404 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:28.413 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 23:00:28.425 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 23:00:28.446 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 23:00:28.452 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 23:00:28.462 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 23:00:28.468 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 23:00:28.476 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[COVIDpatients.Model.Patients, COVIDpatients, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-27 23:00:28.521 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2020-11-27 23:00:28.532 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:28.541 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:28.554 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients) in 3000.8134ms
2020-11-27 23:00:28.565 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.GetAll (COVIDpatients)'
2020-11-27 23:00:28.574 +01:00 [INF] HTTP GET /api/patients responded 200 in 3142.2400 ms
2020-11-27 23:00:28.584 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" completed keep alive response.
2020-11-27 23:00:28.593 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 23:00:28.603 +01:00 [INF] Request finished in 3188.1903ms 200 application/json; charset=utf-8
2020-11-27 23:00:45.953 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44305/api/patients application/json; charset=utf-8 111
2020-11-27 23:00:45.960 +01:00 [VRB] All hosts are allowed.
2020-11-27 23:00:45.967 +01:00 [DBG] 1 candidate(s) found for the request path '/api/patients'
2020-11-27 23:00:45.974 +01:00 [DBG] Endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)' with route pattern 'api/Patients' is valid for the request path '/api/patients'
2020-11-27 23:00:45.982 +01:00 [DBG] Request matched endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 23:00:45.997 +01:00 [INF] Successfully validated the token.
2020-11-27 23:00:46.003 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2020-11-27 23:00:46.011 +01:00 [INF] Authorization was successful.
2020-11-27 23:00:46.017 +01:00 [INF] Executing endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 23:00:46.056 +01:00 [INF] Route matched with {action = "Add", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(COVIDpatients.Model.Patients) on controller COVIDpatients.Controllers.PatientsController (COVIDpatients).
2020-11-27 23:00:46.063 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-11-27 23:00:46.070 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-11-27 23:00:46.075 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2020-11-27 23:00:46.084 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-11-27 23:00:46.092 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-11-27 23:00:46.101 +01:00 [DBG] Executing controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 23:00:46.110 +01:00 [DBG] Executed controller factory for controller COVIDpatients.Controllers.PatientsController (COVIDpatients)
2020-11-27 23:00:46.129 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 23:00:46.138 +01:00 [DBG] Attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients' using the name '' in request data ...
2020-11-27 23:00:46.146 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2020-11-27 23:00:46.163 +01:00 [DBG] Connection id "0HM4J3UNVRMD5", Request id "0HM4J3UNVRMD5:00000003": started reading request body.
2020-11-27 23:00:46.169 +01:00 [DBG] Connection id "0HM4J3UNVRMD5", Request id "0HM4J3UNVRMD5:00000003": done reading request body.
2020-11-27 23:00:46.184 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'COVIDpatients.Model.Patients'
2020-11-27 23:00:46.191 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 23:00:46.196 +01:00 [DBG] Done attempting to bind parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 23:00:46.202 +01:00 [DBG] Attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients' ...
2020-11-27 23:00:46.222 +01:00 [DBG] Done attempting to validate the bound parameter 'p' of type 'COVIDpatients.Model.Patients'.
2020-11-27 23:00:46.233 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:46.243 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:46.252 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:46.262 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:46.270 +01:00 [INF] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) - Validation state: "Valid"
2020-11-27 23:00:46.278 +01:00 [VRB] Executing action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) with arguments (["COVIDpatients.Model.Patients"])
2020-11-27 23:00:46.348 +01:00 [INF] Entity Framework Core 3.1.8 initialized 'DpDataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-27 23:00:46.406 +01:00 [DBG] 'DpDataContext' generated a temporary value for the 'id' property of new 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:46.442 +01:00 [DBG] Context 'DpDataContext' started tracking 'Patients' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:46.459 +01:00 [DBG] SaveChanges starting for 'DpDataContext'.
2020-11-27 23:00:46.472 +01:00 [DBG] DetectChanges starting for 'DpDataContext'.
2020-11-27 23:00:46.501 +01:00 [DBG] DetectChanges completed for 'DpDataContext'.
2020-11-27 23:00:46.527 +01:00 [DBG] Opening connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:46.535 +01:00 [DBG] Opened connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:46.547 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-11-27 23:00:46.631 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2020-11-27 23:00:46.735 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-11-27 23:00:46.740 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2020-11-27 23:00:46.771 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 23:00:46.905 +01:00 [INF] Executed DbCommand (149ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([age], [email], [name], [startDate], [surname])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2020-11-27 23:00:46.950 +01:00 [DBG] Foreign key property 'Patients.id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-11-27 23:00:46.970 +01:00 [DBG] A data reader was disposed.
2020-11-27 23:00:46.978 +01:00 [DBG] Committing transaction.
2020-11-27 23:00:47.056 +01:00 [DBG] Committing transaction.
2020-11-27 23:00:47.061 +01:00 [DBG] Closing connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:47.069 +01:00 [DBG] Closed connection to database 'dp102' on server 'tcp:dp102kwiktorski.database.windows.net,1433'.
2020-11-27 23:00:47.078 +01:00 [DBG] Disposing transaction.
2020-11-27 23:00:47.116 +01:00 [DBG] An 'Patients' entity tracked by 'DpDataContext' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-11-27 23:00:47.129 +01:00 [DBG] SaveChanges completed for 'DpDataContext' with 1 entities written to the database.
2020-11-27 23:00:48.644 +01:00 [INF] Added patient: AAA BBB
2020-11-27 23:00:48.657 +01:00 [INF] Executed action method COVIDpatients.Controllers.PatientsController.Add (COVIDpatients), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 2370.6423ms.
2020-11-27 23:00:48.668 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:48.681 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-11-27 23:00:48.695 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:48.703 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-11-27 23:00:48.716 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:48.728 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:48.735 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 23:00:48.744 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlSerializerOutputFormatter"]
2020-11-27 23:00:48.777 +01:00 [DBG] No information found on request to perform content negotiation.
2020-11-27 23:00:48.795 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-11-27 23:00:48.803 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-11-27 23:00:48.815 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-11-27 23:00:48.827 +01:00 [INF] Executing ObjectResult, writing value of type 'COVIDpatients.Model.Patients'.
2020-11-27 23:00:48.836 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2020-11-27 23:00:48.845 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:48.855 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-11-27 23:00:48.866 +01:00 [INF] Executed action COVIDpatients.Controllers.PatientsController.Add (COVIDpatients) in 2765.5225ms
2020-11-27 23:00:48.877 +01:00 [INF] Executed endpoint 'COVIDpatients.Controllers.PatientsController.Add (COVIDpatients)'
2020-11-27 23:00:48.888 +01:00 [INF] HTTP POST /api/patients responded 201 in 2921.6494 ms
2020-11-27 23:00:48.898 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" completed keep alive response.
2020-11-27 23:00:48.906 +01:00 [DBG] 'DpDataContext' disposed.
2020-11-27 23:00:48.915 +01:00 [INF] Request finished in 2963.3524ms 201 application/json; charset=utf-8
2020-11-27 23:03:17.866 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" received FIN.
2020-11-27 23:03:17.877 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" sending FIN because: "The client closed the connection."
2020-11-27 23:03:17.885 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" disconnecting.
2020-11-27 23:03:17.906 +01:00 [DBG] Connection id "0HM4J3UNVRMD5" stopped.
2020-11-27 23:06:26.967 +01:00 [INF] Application is shutting down...
2020-11-27 23:06:26.973 +01:00 [DBG] Hosting stopping
2020-11-27 23:06:26.997 +01:00 [DBG] Hosting stopped
